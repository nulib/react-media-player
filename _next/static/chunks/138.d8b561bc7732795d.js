"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[138],{8545:function(e,t,i){i.d(t,{c:function(){return o}});let o=(0,i(5086).zo)("button",{display:"flex",height:"2rem",width:"2rem",borderRadius:"2rem",padding:"0",margin:"0",fontFamily:"inherit",background:"none",border:"none",color:"white",cursor:"pointer",marginLeft:"0.618rem",backgroundColor:"$primary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"content-box !important","&:first-child":{marginLeft:"0"},"@xs":{marginBottom:"0.618rem",marginLeft:"0","&:last-child":{marginBottom:"0"}},svg:{height:"60%",width:"60%",padding:"20%",fill:"$secondary",stroke:"$secondary",filter:"drop-shadow(2px 2px 5px #0003)",transition:"$all",boxSizing:"inherit"},"&:hover, &:focus":{backgroundColor:"$accent"},"&#rotateRight":{"&:hover, &:focus":{svg:{rotate:"45deg"}}},"&#rotateLeft":{transform:"scaleX(-1)","&:hover, &:focus":{svg:{rotate:"45deg"}}},"&#reset":{"&:hover, &:focus":{svg:{rotate:"-15deg"}}}})},4138:function(e,t,i){i.r(t),i.d(t,{default:function(){return I}});var o=i(1527),n=i(3329),r=i(8448),a=i(7086),l=i(5086);let s=(0,l.zo)("div",{position:"absolute !important",zIndex:"1",top:"1rem",left:"1rem",width:"161.8px",height:"100px",backgroundColor:"#000D",boxShadow:"5px 5px 5px #0002",borderRadius:"3px",".displayregion":{border:" 3px solid $accent !important",boxShadow:"0 0 3px #0006"},"@sm":{width:"123px",height:"76px"},"@xs":{width:"100px",height:"61.8px"}}),c=(0,l.zo)("div",{position:"relative",width:"100%",height:"100%",zIndex:"0"}),d=(0,l.zo)("div",{width:"100%",height:"100%",maxHeight:"100vh",background:"transparent",backgroundSize:"contain",color:"white",position:"relative",zIndex:"0",overflow:"hidden",variants:{hasNavigator:{true:{["".concat(s)]:{display:"block"}},false:{["".concat(s)]:{display:"none"}}}}});var h=i(2929),u=i.n(h),g=i(959),v=i(8545),f=e=>{let{className:t,id:i,label:n,children:r}=e;return(0,o.jsx)(v.c,{id:i,className:t,"data-testid":"openseadragon-button",children:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"".concat(i,"-svg-title"),"data-testid":"openseadragon-button-svg",focusable:"false",viewBox:"0 0 512 512",role:"img",children:[(0,o.jsx)("title",{id:"".concat(i,"-svg-title"),children:n}),r]})})};let p=(0,l.zo)("div",{position:"absolute",zIndex:"1",top:"1rem",right:"1rem",display:"flex","@xs":{flexDirection:"column",zIndex:"2"},variants:{hasPlaceholder:{true:{right:"3.618rem","@xs":{top:"3.618rem",right:"1rem"}},false:{right:"1rem","@xs":{top:"1rem",right:"1rem"}}}}}),m=()=>(0,o.jsx)("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M256 112v288M400 256H112"}),x=()=>(0,o.jsx)("path",{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 256H112"}),w=()=>(0,o.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"}),y=()=>(0,o.jsx)("path",{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}),b=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"45",d:"M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128"}),(0,o.jsx)("path",{d:"M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"})]});var _=e=>{let{_cloverViewerHasPlaceholder:t,config:i}=e;return(0,o.jsxs)(p,{"data-testid":"clover-iiif-image-openseadragon-controls",hasPlaceholder:t,children:[i.showZoomControl&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f,{id:i.zoomInButton,label:"zoom in",children:(0,o.jsx)(m,{})}),(0,o.jsx)(f,{id:i.zoomOutButton,label:"zoom out",children:(0,o.jsx)(x,{})})]}),i.showFullPageControl&&(0,o.jsx)(f,{id:i.fullPageButton,label:"full page",children:(0,o.jsx)(w,{})}),i.showRotationControl&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f,{id:i.rotateRightButton,label:"rotate right",children:(0,o.jsx)(b,{})}),(0,o.jsx)(f,{id:i.rotateLeftButton,label:"rotate left",children:(0,o.jsx)(b,{})})]}),i.showHomeControl&&(0,o.jsx)(f,{id:i.homeButton,label:"reset",children:(0,o.jsx)(y,{})})]})},k=i(1322),j=e=>{let{ariaLabel:t,config:i,uri:n,_cloverViewerHasPlaceholder:r,imageType:a,openSeadragonCallback:l}=e,[h,v]=(0,g.useState)(),[f,p]=(0,g.useState)();return(0,g.useEffect)(()=>(f||p(u()(i)),()=>null==f?void 0:f.destroy()),[]),(0,g.useEffect)(()=>{f&&l&&l(f)},[f,l]),(0,g.useEffect)(()=>{n!==h&&v(n)},[h,n]),(0,g.useEffect)(()=>{if(h&&f)switch(a){case"simpleImage":f.addSimpleImage({url:h});break;case"tiledImage":(0,k.Er)(h).then(e=>{try{if(!e)throw Error("No tile source found for ".concat(h));f.addTiledImage({tileSource:e})}catch(e){console.error(e)}});break;default:f.close(),console.warn("Unable to render ".concat(h,' in OpenSeadragon as type: "').concat(a,'"'))}},[a,h,f]),(0,o.jsxs)(d,{className:"clover-iiif-image-openseadragon","data-testid":"clover-iiif-image-openseadragon","data-openseadragon-instance":i.id,hasNavigator:i.showNavigator,children:[(0,o.jsx)(_,{_cloverViewerHasPlaceholder:r,config:i}),i.showNavigator&&(0,o.jsx)(s,{id:i.navigatorId,"data-testid":"clover-iiif-image-openseadragon-navigator"}),(0,o.jsx)(c,{id:i.id,"data-testid":"clover-iiif-image-openseadragon-viewport",role:"img",...t&&{"aria-label":t}})]})},z=i(784),C=i(2950),I=e=>{let{_cloverViewerHasPlaceholder:t=!1,body:i,instanceId:l,isTiledImage:s=!1,label:c,src:d="",openSeadragonCallback:h,openSeadragonConfig:u={}}=e,g=l||(0,C.Z)(),v="string"==typeof c?c:(0,z.M)(c),f={id:"openseadragon-".concat(g),navigatorId:"openseadragon-navigator-".concat(g),loadTilesWithAjax:!0,fullPageButton:"fullPage-".concat(g),homeButton:"reset-".concat(g),rotateLeftButton:"rotateLeft-".concat(g),rotateRightButton:"rotateRight-".concat(g),zoomInButton:"zoomIn-".concat(g),zoomOutButton:"zoomOut-".concat(g),showNavigator:!0,showFullPageControl:!0,showHomeControl:!0,showRotationControl:!0,showZoomControl:!0,navigatorBorderColor:"transparent",gestureSettingsMouse:{clickToZoom:!0,dblClickToZoom:!0,pinchToZoom:!0,scrollToZoom:!1},...u},{imageType:p,uri:m}=i?(0,n.z9)(i):(0,n.D1)(d,s);return m?(0,o.jsx)(r.SV,{FallbackComponent:a.Z,children:(0,o.jsx)(j,{_cloverViewerHasPlaceholder:t,ariaLabel:v,config:f,imageType:p,uri:m,openSeadragonCallback:h},g)}):null}},7086:function(e,t,i){i.d(t,{Z:function(){return s}});var o=i(1527),n=i(5086);let r=(0,n.zo)("div",{display:"flex",flexDirection:"column",alignItems:"center"}),a=(0,n.zo)("p",{fontWeight:"bold",fontSize:"x-large"}),l=(0,n.zo)("span",{fontSize:"medium"});i(959);var s=e=>{let{error:t}=e,{message:i}=t;return(0,o.jsxs)(r,{role:"alert",children:[(0,o.jsx)(a,{"data-testid":"headline",children:"Something went wrong"}),i&&(0,o.jsxs)(l,{children:["Error message: ".concat(i)," "]})]})}},3037:function(e,t,i){i.d(t,{L:function(){return o}});let o=e=>{let t={id:"string"==typeof e?e:e.source};if("string"==typeof e){if(e.includes("#xywh=")){let i=e.split("#xywh=");if(i&&i[1]){let[e,o,n,r]=i[1].split(",").map(e=>Number(e));t={id:i[0],rect:{x:e,y:o,w:n,h:r}}}}else if(e.includes("#t=")){let i=e.split("#t=");i&&i[1]&&(t={id:i[0],t:i[1]})}}else if("object"==typeof e){var i,o;(null===(i=e.selector)||void 0===i?void 0:i.type)==="PointSelector"?t={id:e.source,point:{x:e.selector.x,y:e.selector.y}}:(null===(o=e.selector)||void 0===o?void 0:o.type)==="SvgSelector"&&(t={id:e.source,svg:e.selector.value})}return t}},1322:function(e,t,i){i.d(t,{AG:function(){return r},Er:function(){return n},FO:function(){return s},Mx:function(){return c},Vu:function(){return l}});var o=i(2024);let n=e=>fetch("".concat(e.replace(/\/$/,""),"/info.json")).then(e=>e.json()).then(e=>e).catch(t=>{console.error("The IIIF tilesource ".concat(e.replace(/\/$/,""),"/info.json failed to load: ").concat(t))}),r=e=>{let t,i;return Array.isArray(e)&&(t=e[0])&&(i="@id"in t?t["@id"]:t.id),i},a=e=>{let t,i;if(d(e))t=e,i={};else{let r=JSON.parse((0,o.o0)(e));switch(null==r?void 0:r.type){case"SpecificResource":case"Range":case"Annotation":i={manifest:t=null==r?void 0:r.target.partOf[0].id,canvas:null==r?void 0:r.target.id};break;case"Canvas":i={manifest:t=null==r?void 0:r.partOf[0].id,canvas:null==r?void 0:r.id};break;case"Manifest":var n;t=null==r?void 0:r.id,i={collection:null==r?void 0:null===(n=r.partOf[0])||void 0===n?void 0:n.id,manifest:null==r?void 0:r.id};break;case"Collection":i={collection:t=null==r?void 0:r.id}}}return{resourceId:t,active:i}},l=e=>{let{resourceId:t,active:i}=a(e);return i.collection||i.manifest||t},s=(e,t)=>{let i=t.items.map(e=>e.id),{active:o}=a(e),n=o.canvas;return i.includes(n)?n:i[0]},c=(e,t)=>{let{active:i}=a(e),o=i.manifest,n=t.items.filter(e=>"Manifest"===e.type).map(e=>e.id);return 0==n.length?null:n.includes(o)?o:n[0]},d=e=>{try{new URL(e)}catch(e){return!1}return!0}},3329:function(e,t,i){i.d(t,{zG:function(){return g},cW:function(){return v},z9:function(){return p},D1:function(){return m}});var o,n,r=i(2929),a=i.n(r);let l=window.OpenSeadragon;if(!l&&!(l=a()))throw Error("OpenSeadragon is missing.");let s="http://www.w3.org/2000/svg";l.Viewer&&(l.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new c(this)),this._svgOverlayInfo});let c=function(e){let t=this;this._viewer=e,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(s,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(s,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){t.resize()}),this._viewer.addHandler("open",function(){t.resize()}),this._viewer.addHandler("rotate",function(){t.resize()}),this._viewer.addHandler("flip",function(){t.resize()}),this._viewer.addHandler("resize",function(){t.resize()}),this.resize()};c.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));let e=this._viewer.viewport.pixelFromPoint(new l.Point(0,0),!0),t=this._viewer.viewport.getZoom(!0),i=this._viewer.viewport.getRotation(),o=this._viewer.viewport.getFlip(),n=this._viewer.viewport._containerInnerSize.x,r=n*t,a=r;o&&(r=-r,e.x=-e.x+n),this._node.setAttribute("transform","translate("+e.x+","+e.y+") scale("+r+","+a+") rotate("+i+")")},onClick:function(e,t){new l.MouseTracker({element:e,clickHandler:t}).setTracking(!0)}};let d=e=>new c(e);var h=i(3037),u=i(1322);function g(e,t,i,o){if(!e)return;let n=1/t.width;o.forEach(t=>{if(!t.target)return;let{point:o,rect:r,svg:l}=(0,h.L)(t.target);if(r){let{x:t,y:o,w:l,h:s}=r;!function(e,t,i,o,n,r){let l=new(a()).Rect(t,i,o,n),s=document.createElement("div");if(r.annotationOverlays){let{backgroundColor:e,opacity:t,borderType:i,borderColor:o,borderWidth:n}=r.annotationOverlays;s.style.backgroundColor=e,s.style.opacity=t,s.style.border="".concat(i," ").concat(n," ").concat(o),s.className="annotation-overlay"}e.addOverlay(s,l)}(e,t*n,o*n,l*n,s*n,i)}if(o){let{x:t,y:r}=o;f(e,'\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">\n          <circle cx="'.concat(t,'" cy="').concat(r,'" r="20" />\n        </svg>\n      '),i,n)}l&&f(e,l,i,n)})}function v(e,t,i){let o,n,r=40,l=40;t.rect&&(o=t.rect.x,n=t.rect.y,r=t.rect.w,l=t.rect.h),t.point&&(o=t.point.x,n=t.point.y),h.L.svg;let s=1/e.width;return new(a()).Rect(o*s-r*s/2*(i-1),n*s-l*s/2*(i-1),r*s*i,l*s*i)}function f(e,t,i,o){let n=function(e){if(!e)return null;let t=document.createElement("template");return t.innerHTML=e.trim(),t.content.children[0]}(t);if(n)for(let t of n.children)!function e(t,i,o,n){var r;if("#text"===i.nodeName)!i.textContent||i.textContent.includes("\n")||console.log("nodeName:",i.nodeName,", textContent:",i.textContent,", childNodes.length",i.childNodes.length);else{let a=function(e,t,i){var o,n,r,a;let l=!1,s=!1,c=!1,d=!1,h=document.createElementNS("http://www.w3.org/2000/svg",e.nodeName);if(e.attributes.length>0)for(let t=0;t<e.attributes.length;t++){let i=e.attributes[t];switch(i.name){case"fill":c=!0;break;case"stroke":l=!0;break;case"stroke-width":s=!0;break;case"fill-opacity":d=!0}h.setAttribute(i.name,i.textContent)}return l||(h.style.stroke=null===(o=t.annotationOverlays)||void 0===o?void 0:o.borderColor),s||(h.style.strokeWidth=null===(n=t.annotationOverlays)||void 0===n?void 0:n.borderWidth),c||(h.style.fill=null===(r=t.annotationOverlays)||void 0===r?void 0:r.backgroundColor),d||(h.style.fillOpacity=null===(a=t.annotationOverlays)||void 0===a?void 0:a.opacity),h.setAttribute("transform","scale(".concat(i,")")),h}(i,o,n),l=d(t);l.node().append(a),null===(r=l._svg)||void 0===r||r.setAttribute("class","annotation-overlay"),i.childNodes.forEach(i=>{e(t,i,o,n)})}}(e,t,i,o)}(o=n||(n={})).TiledImage="tiledImage",o.SimpleImage="simpleImage";let p=e=>{let t=Array.isArray(null==e?void 0:e.service)&&(null==e?void 0:e.service.length)>0;return{uri:t?(0,u.AG)(null==e?void 0:e.service):null==e?void 0:e.id,imageType:t?n.TiledImage:n.SimpleImage}},m=(e,t)=>({uri:e,imageType:t?n.TiledImage:n.SimpleImage})}}]);