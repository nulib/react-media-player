(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[507],{9343:function(e,t,r){"use strict";r.d(t,{Ry:function(){return u}});var n=new WeakMap,i=new WeakMap,o={},a=0,l=function(e){return e&&(e.host||l(e.parentNode))},s=function(e,t,r,s){var u=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=l(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});o[r]||(o[r]=new WeakMap);var c=o[r],f=[],d=new Set,p=new Set(u),h=function(e){!e||d.has(e)||(d.add(e),h(e.parentNode))};u.forEach(h);var v=function(e){!e||p.has(e)||Array.prototype.forEach.call(e.children,function(e){if(d.has(e))v(e);else{var t=e.getAttribute(s),o=null!==t&&"false"!==t,a=(n.get(e)||0)+1,l=(c.get(e)||0)+1;n.set(e,a),c.set(e,l),f.push(e),1===a&&o&&i.set(e,!0),1===l&&e.setAttribute(r,"true"),o||e.setAttribute(s,"true")}})};return v(t),d.clear(),a++,function(){f.forEach(function(e){var t=n.get(e)-1,o=c.get(e)-1;n.set(e,t),c.set(e,o),t||(i.has(e)||e.removeAttribute(s),i.delete(e)),o||e.removeAttribute(r)}),--a||(n=new WeakMap,n=new WeakMap,i=new WeakMap,o={})}},u=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),s(n,i,r,"aria-hidden")):function(){return null}}},3836:function(e,t,r){"use strict";let n=r(815).parse,i=r(3647).compile,o=r(4604).segment,a=r(4425);e.exports={parse:n,compile:i,segment:o,hls:a}},3647:function(e){"use strict";function t(e,t){this.message=e,this.error=t}function r(e){let t=n(Math.floor(e/60/60),2),r=n(Math.floor(e/60)%60,2),i=n(Math.floor(e%60),2),o=n(Math.floor(1e3*(e%1).toFixed(4)),3);return`${t}:${r}:${i}.${o}`}function n(e,t){let r=`${e}`;for(;r.length<t;)r=`0${r}`;return r}t.prototype=Object.create(Error.prototype),e.exports={CompilerError:t,compile:function(e){if(!e)throw new t("Input must be non-null");if("object"!=typeof e)throw new t("Input must be an object");if(Array.isArray(e))throw new t("Input cannot be array");if(!e.valid)throw new t("Input must be valid");let n="WEBVTT\n";if(e.meta){if("object"!=typeof e.meta||Array.isArray(e.meta))throw new t("Metadata must be an object");Object.entries(e.meta).forEach(e=>{if("string"!=typeof e[1])throw new t(`Metadata value for "${e[0]}" must be string`);n+=`${e[0]}: ${e[1]}
`})}let i=null;return e.cues.forEach((e,o)=>{if(i&&i>e.start)throw new t(`Cue number ${o} is not in chronological order`);i=e.start,n+="\n"+function(e){if("object"!=typeof e)throw new t("Cue malformed: not of type object");if("string"!=typeof e.identifier&&"number"!=typeof e.identifier&&null!==e.identifier)throw new t(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(e)}`);if(isNaN(e.start))throw new t(`Cue malformed: null start value.
    ${JSON.stringify(e)}`);if(isNaN(e.end))throw new t(`Cue malformed: null end value.
    ${JSON.stringify(e)}`);if(e.start>=e.end)throw new t(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(e)}`);if("string"!=typeof e.text)throw new t(`Cue malformed: null text value.
    ${JSON.stringify(e)}`);if("string"!=typeof e.styles)throw new t(`Cue malformed: null styles value.
    ${JSON.stringify(e)}`);let n="";e.identifier.length>0&&(n+=`${e.identifier}
`);let i=r(e.start),o=r(e.end);return n+(`${i} --> ${o}`+(e.styles?` ${e.styles}`:""))+`
${e.text}`}(e)+"\n"}),n}}},4425:function(e,t,r){"use strict";let n=r(4604).segment;function i(e,t){let r="0".repeat(Math.max(0,t-e.toString().length));return`${r}${e}`}function o(e){let t=(e%1).toFixed(3),r=Math.floor((e=Math.round(e-t))/3600),n=Math.floor((e-3600*r)/60),o=e-3600*r-60*n,a=`${i(r,2)}:`;return`${a}${i(n,2)}:${i(o,2)}.${i(1e3*t,3)}`}e.exports={hlsSegment:function(e,t,r){void 0===r&&(r="900000");let i=n(e,t),a=[];return i.forEach((e,t)=>{let n=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${r},LOCAL:00:00:00.000

${function(e){let t=[];return e.forEach(e=>{t.push(function(e){let t=[];e.identifier&&t.push(e.identifier);let r=o(e.start),n=o(e.end),i=e.styles?`${e.styles}`:"";return t.push(`${r} --> ${n} ${i}`),t.push(e.text),t.join("\n")}(e))}),t.join("\n\n")}(e.cues)}
`,i=`${t}.vtt`;a.push({filename:i,content:n})}),a},hlsSegmentPlaylist:function(e,t){let r;let i=n(e,t),o=function(e){let t=[];return e.forEach((e,r)=>{t.push(`#EXTINF:${e.duration.toFixed(5)},
${r}.vtt`)}),t.join("\n")}(i),a=Math.round((r=0,i.forEach(e=>{e.duration>r&&(r=e.duration)}),r));return`#EXTM3U
#EXT-X-TARGETDURATION:${a}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${o}
#EXT-X-ENDLIST
`}}},815:function(e){"use strict";function t(e,t){this.message=e,this.error=t}t.prototype=Object.create(Error.prototype);let r=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function n(e){let t=e.match(r);return 3600*parseFloat(t[1]||0)+(60*parseFloat(t[2])+parseFloat(t[3]))}e.exports={ParserError:t,parse:function(e,i){i||(i={});let{meta:o=!1,strict:a=!0}=i;if("string"!=typeof e)throw new t("Input must be a string");let l=(e=(e=(e=e.trim()).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).split("\n\n"),s=l.shift();if(!s.startsWith("WEBVTT"))throw new t('Must start with "WEBVTT"');let u=s.split("\n"),c=u[0].replace("WEBVTT","");if(c.length>0&&" "!==c[0]&&"	"!==c[0])throw new t("Header comment must start with space or tab");if(0===l.length&&1===u.length)return{valid:!0,strict:a,cues:[],errors:[]};if(!o&&u.length>1&&""!==u[1])throw new t("Missing blank line after signature");let{cues:f,errors:d}=function(e,i){let o=[];return{cues:e.map((e,a)=>{try{return function(e,i,o){var a,l;let s="",u=0,c=.01,f="",d="",p=e.split("\n").filter(Boolean);if(p.length>0&&p[0].trim().startsWith("NOTE"))return null;if(1===p.length&&!p[0].includes("-->"))throw new t(`Cue identifier cannot be standalone (cue #${i})`);if(p.length>1&&!(p[0].includes("-->")||p[1].includes("-->")))throw new t(`Cue identifier needs to be followed by timestamp (cue #${i})`);p.length>1&&p[1].includes("-->")&&(s=p.shift());let h="string"==typeof p[0]&&p[0].split(" --> ");if(2!==h.length||(a=h[0],!r.test(a))||(l=h[1],!r.test(l)))throw new t(`Invalid cue timestamp (cue #${i})`);if(u=n(h[0]),c=n(h[1]),o){if(u>c)throw new t(`Start timestamp greater than end (cue #${i})`);if(c<=u)throw new t(`End must be greater than start (cue #${i})`)}if(!o&&c<u)throw new t(`End must be greater or equal to start when not strict (cue #${i})`);return d=h[1].replace(r,"").trim(),p.shift(),!!(f=p.join("\n"))&&{identifier:s,start:u,end:c,text:f,styles:d}}(e,a,i)}catch(e){return o.push(e),null}}).filter(Boolean),errors:o}}(l,a);if(a&&d.length>0)throw d[0];let p=o?function(e){let t={};return e.slice(1).forEach(e=>{let r=e.indexOf(":"),n=e.slice(0,r).trim(),i=e.slice(r+1).trim();t[n]=i}),Object.keys(t).length>0?t:null}(u):null,h={valid:0===d.length,strict:a,cues:f,errors:d};return o&&(h.meta=p),h}}},4604:function(e,t,r){"use strict";let n=r(815).parse;e.exports={segment:function(e,t){t=t||10;let r=n(e),i=[],o=[],a=null,l=0,s=0;return r.cues.forEach((e,n)=>{let u=0===n,c=n===r.cues.length-1,f=e.start,d=e.end,p=c?1/0:r.cues[n+1].start,h=u?d:d-f,v=u?0:f-r.cues[n-1].end;l=l+h+v,i.length,a&&(o.push(a),l+=a.end-s,a=null),o.push(e);let m=p-d<t&&v<t&&l>t;if(function(e,t,r,n){return(n<=t||n+(t-n%t)+e<r)&&r-e>=t}(s,t,p,v)){var g,y,b,w;let e;let r=(g=t,y=l,b=s,e=g,y>g&&(e=(w=y-g)+(g-w%g)),e=c?parseFloat((d-b).toFixed(2)):Math.round(e));i.push({duration:r,cues:o}),s+=r,l=0,o=[]}else m=!1;m&&(a=e)}),i}}},8448:function(e,t,r){"use strict";r.d(t,{SV:function(){return a}});var n=r(959);let i=(0,n.createContext)(null),o={didCatch:!1,error:null};class a extends n.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=o}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,r,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];null===(t=(r=this.props).onReset)||void 0===t||t.call(r,{args:i,reason:"imperative-api"}),this.setState(o)}}componentDidCatch(e,t){var r,n;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t)}componentDidUpdate(e,t){let{didCatch:r}=this.state,{resetKeys:n}=this.props;if(r&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,r)=>!Object.is(e,t[r]))}(e.resetKeys,n)){var i,a;null===(i=(a=this.props).onReset)||void 0===i||i.call(a,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(o)}}render(){let{children:e,fallbackRender:t,FallbackComponent:r,fallback:o}=this.props,{didCatch:a,error:l}=this.state,s=e;if(a){let e={error:l,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)s=t(e);else if(r)s=(0,n.createElement)(r,e);else if(null===o||(0,n.isValidElement)(o))s=o;else throw l}return(0,n.createElement)(i.Provider,{value:{didCatch:a,error:l,resetErrorBoundary:this.resetErrorBoundary}},s)}}},9902:function(e,t,r){"use strict";r.d(t,{Z:function(){return H}});var n,i,o,a,l,s,u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}"function"==typeof SuppressedError&&SuppressedError;var f=r(959),d="right-scroll-bar-position",p="width-before-scroll-bar";function h(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var v=new WeakMap,m=(void 0===i&&(i={}),(void 0===o&&(o=function(e){return e}),a=[],l=!1,s={read:function(){if(l)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:null},useMedium:function(e){var t=o(e,l);return a.push(t),function(){a=a.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(l=!0;a.length;){var t=a;a=[],t.forEach(e)}a={push:function(t){return e(t)},filter:function(){return a}}},assignMedium:function(e){l=!0;var t=[];if(a.length){var r=a;a=[],r.forEach(e),t=a}var n=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(n)};i(),a={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),a}}}}).options=u({async:!0,ssr:!1},i),s),g=function(){},y=f.forwardRef(function(e,t){var r,n,i,o,a=f.useRef(null),l=f.useState({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:g}),s=l[0],d=l[1],p=e.forwardProps,y=e.children,b=e.className,w=e.removeScrollBar,E=e.enabled,x=e.shards,C=e.sideCar,A=e.noIsolation,S=e.inert,R=e.allowPinchZoom,O=e.as,T=c(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),P=(r=[a,t],n=function(e){return r.forEach(function(t){return h(t,e)})},(i=(0,f.useState)(function(){return{value:null,callback:n,facade:{get current(){return i.value},set current(value){var e=i.value;e!==value&&(i.value=value,i.callback(value,e))}}}})[0]).callback=n,o=i.facade,f.useLayoutEffect(function(){var e=v.get(o);if(e){var t=new Set(e),n=new Set(r),i=o.current;t.forEach(function(e){n.has(e)||h(e,null)}),n.forEach(function(e){t.has(e)||h(e,i)})}v.set(o,r)},[r]),o),k=u(u({},T),s);return f.createElement(f.Fragment,null,E&&f.createElement(C,{sideCar:m,removeScrollBar:w,shards:x,noIsolation:A,inert:S,setCallbacks:d,allowPinchZoom:!!R,lockRef:a}),p?f.cloneElement(f.Children.only(y),u(u({},k),{ref:P})):f.createElement(void 0===O?"div":O,u({},k,{className:b,ref:P}),y))});y.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},y.classNames={fullWidth:p,zeroRight:d};var b=function(e){var t=e.sideCar,r=c(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return f.createElement(n,u({},r))};b.isSideCarExport=!0;var w=function(){var e=0,t=null;return{add:function(i){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n||r.nc;return t&&e.setAttribute("nonce",t),e}())){var o,a;(o=t).styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},E=function(){var e=w();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},x=function(){var e=E();return function(t){return e(t.styles,t.dynamic),null}},C={left:0,top:0,right:0,gap:0},A=function(e){return parseInt(e||"",10)||0},S=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[A(r),A(n),A(i)]},R=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return C;var t=S(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},O=x(),T=function(e,t,r,n){var i=e.left,o=e.top,a=e.right,l=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(l,"px ").concat(n,";\n  }\n  body {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(d," {\n    right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(p," {\n    margin-right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(d," .").concat(d," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(p," .").concat(p," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},P=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n,o=f.useMemo(function(){return R(i)},[i]);return f.createElement(O,{styles:T(o,!t,i,r?"":"!important")})},k=!1;if("undefined"!=typeof window)try{var I=Object.defineProperty({},"passive",{get:function(){return k=!0,!0}});window.addEventListener("test",I,I),window.removeEventListener("test",I,I)}catch(e){k=!1}var M=!!k&&{passive:!1},D=function(e,t){var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===r[t])},L=function(e,t){var r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),j(e,r)){var n=_(e,r);if(n[1]>n[2])return!0}r=r.parentNode}while(r&&r!==document.body);return!1},j=function(e,t){return"v"===e?D(t,"overflowY"):D(t,"overflowX")},_=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},F=function(e,t,r,n,i){var o,a=(o=window.getComputedStyle(t).direction,"h"===e&&"rtl"===o?-1:1),l=a*n,s=r.target,u=t.contains(s),c=!1,f=l>0,d=0,p=0;do{var h=_(e,s),v=h[0],m=h[1]-h[2]-a*v;(v||m)&&j(e,s)&&(d+=m,p+=v),s=s.parentNode}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return f&&(i&&0===d||!i&&l>d)?c=!0:!f&&(i&&0===p||!i&&-l>p)&&(c=!0),c},W=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N=function(e){return[e.deltaX,e.deltaY]},$=function(e){return e&&"current"in e?e.current:e},V=0,B=[],U=(m.useMedium(function(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),i=f.useState(V++)[0],o=f.useState(function(){return x()})[0],a=f.useRef(e);f.useEffect(function(){a.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map($),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!a.current.allowPinchZoom;var i,o=W(e),l=r.current,s="deltaX"in e?e.deltaX:l[0]-o[0],u="deltaY"in e?e.deltaY:l[1]-o[1],c=e.target,f=Math.abs(s)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===f&&"range"===c.type)return!1;var d=L(f,c);if(!d)return!0;if(d?i=f:(i="v"===f?"h":"v",d=L(f,c)),!d)return!1;if(!n.current&&"changedTouches"in e&&(s||u)&&(n.current=i),!i)return!0;var p=n.current||i;return F(p,t,e,"h"===p?s:u,!0)},[]),s=f.useCallback(function(e){if(B.length&&B[B.length-1]===o){var r="deltaY"in e?N(e):W(e),n=t.current.filter(function(t){var n;return t.name===e.type&&t.target===e.target&&(n=t.delta)[0]===r[0]&&n[1]===r[1]})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var i=(a.current.shards||[]).map($).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?l(e,i[0]):!a.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),u=f.useCallback(function(e,r,n,i){var o={name:e,delta:r,target:n,should:i};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),c=f.useCallback(function(e){r.current=W(e),n.current=void 0},[]),d=f.useCallback(function(t){u(t.type,N(t),t.target,l(t,e.lockRef.current))},[]),p=f.useCallback(function(t){u(t.type,W(t),t.target,l(t,e.lockRef.current))},[]);f.useEffect(function(){return B.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",s,M),document.addEventListener("touchmove",s,M),document.addEventListener("touchstart",c,M),function(){B=B.filter(function(e){return e!==o}),document.removeEventListener("wheel",s,M),document.removeEventListener("touchmove",s,M),document.removeEventListener("touchstart",c,M)}},[]);var h=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(o,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,h?f.createElement(P,{gapMode:"margin"}):null)}),b),q=f.forwardRef(function(e,t){return f.createElement(y,u({},e,{ref:t,sideCar:U}))});q.classNames=y.classNames;var H=q},1518:function(e,t){!function(e){"use strict";function t(e){return null==e}function r(e){throw Error("Argument "+e+" is empty.")}function n(e){return"function"==typeof e&&"getType"in e}function i(e){throw Error("Argument "+e+' is invalid, it should be an action-creator instance from "typesafe-actions"')}function o(e,t){if(null==e)throw Error("Argument contains array with empty element at index "+t);if(null==e.getType)throw Error("Argument contains array with invalid element at index "+t+', it should be an action-creator instance from "typesafe-actions"')}function a(e){return"string"==typeof e||"symbol"==typeof e}function l(e){throw Error("Argument "+e+" is invalid, it should be an action type of type: string | symbol")}function s(e,t){if(null==e)throw Error("Argument contains array with empty element at index "+t);if("string"!=typeof e&&"symbol"!=typeof e)throw Error("Argument contains array with invalid element at index "+t+", it should be of type: string | symbol")}function u(e,n,o,l){return t(e)&&r(1),a(e)||i(1),{type:e,payload:n,meta:o,error:l}}function c(e,n){return t(e)&&r(1),a(e)||l(1),Object.assign(function(){var t=null!=n?n.apply(void 0,arguments):void 0;return Object.assign({type:e},t)},{getType:function(){return e},toString:function(){return e}})}function f(e,n,i){return t(e)&&r(1),a(e)||l(1),function(){return c(e,function(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];return null==n&&null==i||(e=null!=n?n.apply(void 0,arguments):void 0,t=null!=i?i.apply(void 0,arguments):void 0),Object.assign({},void 0!==e&&{payload:e},{},void 0!==t&&{meta:t})})}}function d(e){return t(e)&&r(1),n(e)||i(1),e.getType()}function p(e,n){return t(e)&&r(1),a(e)||l(1),Object.assign(null!=n?n(e):function(){return{type:e}},{getType:function(){return e},toString:function(){return e}})}e.action=u,e.createAction=f,e.createAsyncAction=function(e,t,r,n){return function(){var i=[e,t,r,n].map(function(e,t){return Array.isArray(e)?f(e[0],e[1],e[2])():"string"==typeof e||"symbol"==typeof e?f(e)():void(t<3&&function(e){throw Error("Argument "+e+' is invalid, it should be an action type of "string | symbol" or a tuple of "[string | symbol, Function, Function?]"')}(t))});return{request:i[0],success:i[1],failure:i[2],cancel:i[3]}}},e.createCustomAction=c,e.createReducer=function e(t,r){void 0===r&&(r={});var i=Object.assign({},r),o=function(r,o){var l=Array.isArray(r)?r:[r],s={};return l.map(function(e,t){return n(e)?d(e):a(e)?e:function(e){throw Error("Argument "+e+' is invalid, it should be an action-creator instance from "typesafe-actions" or action type of type: string | symbol')}(t+1)}).forEach(function(e){return s[e]=o}),e(t,Object.assign({},i,{},s))};return Object.assign(function(e,r){if(void 0===e&&(e=t),i.hasOwnProperty(r.type)){var n=i[r.type];if("function"!=typeof n)throw Error('Reducer under "'+r.type+'" key is not a valid reducer');return n(e,r)}return e},{handlers:Object.assign({},i),handleAction:o,handleType:o})},e.deprecated={createAction:function(e,t){return Object.assign(null==t?function(){return u(e)}:t(u.bind(null,e)),{getType:function(){return e},toString:function(){return e}})},createCustomAction:p,createStandardAction:function(e){return t(e)&&r(1),a(e)||l(1),Object.assign(function(){return p(e,function(e){return function(t,r){return{type:e,payload:t,meta:r}}})},{map:function(t){return p(e,function(e){return function(r,n){return Object.assign(t(r,n),{type:e})}})}})}},e.getType=d,e.isActionOf=function(e,n){t(e)&&r(1);var i=Array.isArray(e)?e:[e];i.forEach(o);var a=function(e){return i.some(function(t){return e.type===t.getType()})};return void 0===n?a:a(n)},e.isOfType=function(e,n){t(e)&&r(1);var i=Array.isArray(e)?e:[e];i.forEach(s);var o=function(e){return i.includes(e.type)};return void 0===n?o:o(n)}}(t)},2950:function(e,t,r){"use strict";let n;r.d(t,{Z:function(){return l}});var i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));var l=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();let l=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)})();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=l[e];return t}return function(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}(l)}},7873:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,{Z:function(){return n}})},2024:function(e,t,r){"use strict";r.d(t,{o0:function(){return el}});var n=r(5050).Buffer;function i(e){return e.endsWith("info.json")?e:e.endsWith("/")?`${e}info.json`:`${e}/info.json`}let o="http://library.stanford.edu/iiif/image-api/compliance.html#level1",a="http://library.stanford.edu/iiif/image-api/compliance.html#level2",l="http://library.stanford.edu/iiif/image-api/conformance.html#level1",s="http://library.stanford.edu/iiif/image-api/conformance.html#level2",u="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",c="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",f="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",d="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",p="http://iiif.io/api/image/1/level1.json",h="http://iiif.io/api/image/1/profiles/level1.json",v="http://iiif.io/api/image/1/level2.json",m="http://iiif.io/api/image/1/profiles/level2.json",g="http://iiif.io/api/image/2/level1.json",y="http://iiif.io/api/image/2/profiles/level1.json",b="http://iiif.io/api/image/2/level2.json",w="http://iiif.io/api/image/2/profiles/level2.json",E="level1",x="level2",C="http://iiif.io/api/image/2/level1",A="http://iiif.io/api/image/2/level2",S=[A,a,s,c,d,v,m,b,w,x],R=[...S,C,o,l,u,f,p,h,g,y,E],O=["http://iiif.io/api/image/2/level0",C,A,"http://library.stanford.edu/iiif/image-api/compliance.html#level0",o,a,"http://library.stanford.edu/iiif/image-api/conformance.html#level0",l,s,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",u,c,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",f,d,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json",p,h,v,m,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json",g,y,b,w,"level0",E,x],T={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["sizeByWhListed"]},P={extraFormats:["jpg"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPx","regionSquare","sizeByWhListed","sizeByH","sizeByW","sizeByWh"]},k={extraFormats:["jpg","png"],extraQualities:["default"],extraFeatures:["baseUriRedirect","cors","jsonldMediaType","regionByPct","regionByPx","regionSquare","rotationBy90s","sizeByWhListed","sizeByConfinedWh","sizeByH","sizeByPct","sizeByW","sizeByWh"]};function I(e){return e["@id"]?e["@id"]:e.id?e.id:void 0}function M(e){if(!e||!e.profile||!I(e))return!1;for(let t of Array.isArray(e.profile)?e.profile:[e.profile])if("string"==typeof t&&-1!==O.indexOf(t))return!0;return!1}function D(e,t){if(t&&t.profile){let r=t.profile;if(r){let t=Array.isArray(r)?r:[r];return t.includes(`level${e}`)||t.includes(`http://iiif.io/api/image/2/level${e}.json`)||t.includes(`http://iiif.io/api/image/1/level${e}.json`)||t.includes(`http://iiif.io/api/image/1/profiles/level${e}.json`)}}return!1}function L(e){return M(e)?D(0,e)?0:D(1,e)?1:D(2,e)?2:null:null}function j(e){return -1!==(e["@context"]?Array.isArray(e["@context"])?e["@context"]:[e["@context"]]:[]).indexOf("http://iiif.io/api/image/3/context.json")}function _(e){let t=e.match(/^.*\/(full)\/(((\d+),(\d+)?)|max)\/(\d+)\/default\.(jpg|png|jpeg)$/);if(t){let r=t[1],n=parseInt(t[4],10),i=parseInt(t[5],10),o=t[7];if(("max"===r||"full"===r)&&n&&i&&o)return{type:"fixed",id:e,height:i,width:n}}return{type:"unknown",id:e}}function F(e){let t=[],r=e.length;for(let n=0;n<r;n++){let r=function(e){return M(e)?(e&&e.sizes?e.sizes:[]).map(t=>({id:I(e),type:"fixed-service",height:t.height,width:t.width,level:L(e),version:j(e)?3:2})):[]}(e[n]);r.length&&t.push(...r);let i=function(e){if(!function(e){if(!M(e))return!1;for(let t of Array.isArray(e.profile)?e.profile:[e.profile])if("string"==typeof t){if(-1!==R.indexOf(t))return!0}else{let e=[...t.supports||[],...t.extraFeatures||[]];if(-1!==e.indexOf("regionByPx")&&(-1!==e.indexOf("sizeByW")||-1!==e.indexOf("sizeByWh")))return!0}return!1}(e))return[];let t=[],r=Array.isArray(e.profile)?e.profile:[e.profile],n=r.length;for(let t=0;t<n;t++){let n=r[t];if("string"!=typeof n&&(n.maxHeight||n.maxWidth))return[{id:I(e),type:"variable",minWidth:0,minHeight:0,maxHeight:n.maxHeight||n.maxWidth,maxWidth:n.maxWidth||n.maxHeight,level:L(e),version:"http://iiif.io/api/image/3/context.json"===e["@context"]?3:2}]}if(e.tiles){let r=e.tiles.length;for(let n=0;n<r;n++){let r=e.tiles[n];(r.height||r.width)&&t.push({id:I(e),type:"variable",minHeight:0,minWidth:0,maxHeight:r.height||r.width,maxWidth:r.width,level:L(e),version:j(e)?3:2})}}return t}(e[n]);i.length&&t.push(...i)}return t}function W(e){let t=e.service?Array.isArray(e.service)?e.service:[e.service]:[],r=t.length,n=[];for(let e=0;e<r;e++)M(t[e])&&n.push(t[e]);return n}var N=Object.defineProperty,$=Object.defineProperties,V=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,H=(e,t,r)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t)=>{for(var r in t||(t={}))U.call(t,r)&&H(e,r,t[r]);if(B)for(var r of B(t))q.call(t,r)&&H(e,r,t[r]);return e},Z=(e,t)=>$(e,V(t));function K(e,t,r){let n=function(e){let t=function(e,t=""){let{path:r,scheme:n,server:i,prefix:o}=function(e,t=""){let r=e.match(/^(([a-zA-Z]+):\/\/([^/]+))?((.*)+)/);if(!r)throw Error(`Invalid or unknown input ${e}`);let n=r[2],i=r[3],o=r[4];if("/"===o[0]&&(o=o.substr(1)),t.length>0){if("/"===t[0]&&(t=t.substr(1)),t!==o.substr(0,t.length))throw Error(`Path does not start with prefix (path: ${o}, prefix: ${t})`);o=o.substr(t.length)}return{scheme:n,server:i,path:o,prefix:t}}(e,t),a=r.split("/").reverse(),[l,s,u,c,...f]=a,d=f.reverse().filter(Boolean).join("/");if(1===a.length||""===l)return{type:"base",scheme:n,server:i,prefix:o,identifier:d};if("info.json"===l){let[,...e]=a;return{type:"info",scheme:n,server:i,prefix:o,identifier:e.reverse().filter(Boolean).join("/")}}let p=l.split(".");return{type:"image",scheme:n,server:i,prefix:o,identifier:d,originalPath:r,region:function(e){try{if("full"===e)return{full:!0};if("square"===e)return{square:!0};let t=e.startsWith("pct:"),r=e.substr(t?4:0).split(",").map(e=>parseFloat(e));return{x:r[0],y:r[1],w:r[2],h:r[3],percent:t}}catch{throw Error("Expected 'full', 'square' or 'x,y,w,h'. Found "+e)}}(c),size:function(e){let t={upscaled:!1,max:!1,confined:!1};if("^"===e[0]&&(t.upscaled=!0,e=e.slice(1)),"max"===e||"full"===e)return t.max=!0,t.serialiseAsFull="full"===e,t;if("!"===e[0]&&(t.confined=!0,e=e.slice(1)),"p"===e[0])return t.percentScale=parseFloat(e.slice(4)),t;let r=e.split(",").map(e=>e.trim());return r.length&&(""!==r[0]&&(t.width=parseInt(r[0],10)),""!==r[1]?(t.height=parseInt(r[1],10),t.version=2):t.version=3),t}(u),rotation:function(e){let t={angle:0};if("!"===e[0]&&(t.mirror=!0,e=e.substr(1)),t.angle=parseFloat(e)%360,Number.isNaN(t.angle))throw Error(`Invalid rotation ${e}`);return t}(s),quality:p[0],format:p[1]}}(i(e.id));if("info"!==t.type)throw Error("Invalid service URL");let r=function(e){let t=e?Array.isArray(e.profile)?e.profile:[e.profile]:[],r={extraQualities:[],extraFormats:[],extraFeatures:[]};for(let e of t){var n;if("string"==typeof e&&(n=e,e=-1!==S.indexOf(n)?k:-1!==R.indexOf(n)?P:T),e){if(e.formats)for(let t of e.formats)-1===r.extraFormats.indexOf(t)&&r.extraFormats.push(t);if(e.qualities)for(let t of e.qualities)-1===r.extraQualities.indexOf(t)&&r.extraQualities.push(t);if(e.supports)for(let t of e.supports)-1===r.extraFeatures.indexOf(t)&&r.extraFeatures.push(t);if(e.maxHeight&&(r.maxHeight=e.maxHeight),e.maxWidth&&(r.maxWidth=e.maxWidth),e.maxArea&&(r.maxArea=e.maxArea),e.extraFormats)for(let t of e.extraFormats)-1===r.extraFormats.indexOf(t)&&r.extraFormats.push(t);if(e.extraQualities)for(let t of e.extraQualities)-1===r.extraQualities.indexOf(t)&&r.extraQualities.push(t);if(e.extraFeatures)for(let t of e.extraFeatures)-1===r.extraFeatures.indexOf(t)&&r.extraFeatures.push(t);e.maxHeight&&(r.maxHeight=e.maxHeight),e.maxWidth&&(r.maxWidth=e.maxWidth),e.maxArea&&(r.maxArea=e.maxArea)}}if(e.extraFormats)for(let t of e.extraFormats)-1===r.extraFormats.indexOf(t)&&r.extraFormats.push(t);if(e.extraFeatures)for(let t of e.extraFeatures)-1===r.extraFeatures.indexOf(t)&&r.extraFeatures.push(t);if(e.extraQualities)for(let t of e.extraQualities)-1===r.extraQualities.indexOf(t)&&r.extraQualities.push(t);return r}(e);return{identifier:t.identifier,originalPath:"",server:t.server,prefix:t.prefix,scheme:t.scheme,type:"image",quality:-1===r.extraQualities.indexOf("default")?r.extraQualities[0]:"default",region:{full:!0},size:{max:!0,upscaled:!1,confined:!1},format:"jpg",rotation:{angle:0}}}({"@context":3===e.version?"http://iiif.io/api/image/3/context.json":"http://iiif.io/api/image/2/context.json",id:i(I(e)),profile:null===e.level||typeof e.level>"u"?"level0":`level${e.level}}`,type:3===e.version?"ImageService3":"ImageService2"});if("image"!==n.type)throw Error("Invalid service");return n.size.max=!1,n.size.width=t,n.size.height=r,{id:function(e,t){let r=e.prefix.startsWith("/")?e.prefix.substr(1):e.prefix,n=`${e.scheme}://${e.server}/${r?`${r}/`:""}${e.identifier}`;if("base"===e.type)return n;if("info"===e.type)return`${n}/info.json`;let{size:i}=e,{region:o,rotation:a,format:l,quality:s}=e;if(t){let e=t["@context"]?Array.isArray(t["@context"])?t["@context"]:[t["@context"]]:[],r=-1!==e.indexOf("http://iiif.io/api/image/2/context.json"),n=-1!==e.indexOf("http://iiif.io/api/image/3/context.json");if((i.width!==t.width||i.height)&&(i.height!==t.height||i.width)&&(i.width!==t.width||i.height!==t.height)||(i=Z(z({},i),{max:!0})),r&&(i.max&&!i.serialiseAsFull&&(i=Z(z({},i),{serialiseAsFull:!0})),!i.max&&i.width&&i.height&&(i=Z(z({},i),{height:void 0})),i=Z(z({},i),{version:2})),n){if(i.max&&i.serialiseAsFull&&(i=Z(z({},i),{serialiseAsFull:!1})),i.width&&!i.height&&t.width&&t.height){let e=t.height/t.width;i=Z(z({},i),{height:Math.ceil(i.width*e)})}i=Z(z({},i),{version:3})}}return[n,function({x:e=0,y:t=0,w:r,h:n,full:i,square:o,percent:a}){if(i)return"full";if(o)return"square";if(typeof r>"u"||typeof n>"u")throw Error("RegionParameter: invalid region");let l=`${e},${t},${r},${n}`;return a?`pct:${l}`:l}(o),function({max:e,percentScale:t,upscaled:r,confined:n,width:i,height:o,serialiseAsFull:a,version:l}){let s=[];return r&&s.push("^"),e?s.push(a?"full":"max"):(n&&s.push("!"),t&&s.push(`pct:${t}`),i&&s.push(`${i}`),s.push(","),o&&3===l&&s.push(`${o}`)),s.join("")}(i),`${a.mirror?"!":""}${(a.angle||0)%360}`,`${s}.${l}`].filter(Boolean).join("/")}(n),type:"fixed",width:t,height:r||e.height/(e.width||1)*t,unsafe:e.width>t}}function X(e){let t=e.replace(/(https?:\/\/)?(www.)?/i,"");return -1!==t.indexOf("/")?t.split("/")[0]:t}var Q=Object.defineProperty,Y=Object.defineProperties,G=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,er=(e,t,r)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,en=(e,t)=>{for(var r in t||(t={}))ee.call(t,r)&&er(e,r,t[r]);if(J)for(var r of J(t))et.call(t,r)&&er(e,r,t[r]);return e},ei=(e,t)=>Y(e,G(t)),eo=(e,t,r)=>new Promise((n,i)=>{var o=e=>{try{l(r.next(e))}catch(e){i(e)}},a=e=>{try{l(r.throw(e))}catch(e){i(e)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,a);l((r=r.apply(e,t)).next())});class ea{constructor(){this.config={verificationsRequired:1,approximateServices:!0,enableFetching:!0,disableThrottling:!1},this.fetchingCount=0,this.imageServices={},this.knownImageServers={}}setConfig(e){Object.assign(this.config,e)}sample(e,t,r=!0){let n=X(I(e)),o=i(I(e)),a=this.knownImageServers[n];return this.imageServices[o]=Object.assign(e,{real:!0}),a||!e.tiles||D(0,e)?this.verify(e):(this.knownImageServers[n]={verifications:0,malformed:!1,root:n,preLoaded:r,sampledId:I(e),verified:!1,server:null,result:{context:e["@context"]||[],sampledProfile:e.profile,resourceServiceRatio:t&&e.height?t.height/e.height:1,sampledSizes:e.sizes||[],sizeRatios:function(e,t,r){let n=r.length,i=[];for(let t=0;t<n;t++){let n=r[t].width;i.push(e/n)}return i}(e.width,e.height,e.sizes||[]),sampledTiles:e.tiles||[]}},!0)}preLoad(e,t=!0){this.knownImageServers[e.root]=e,t&&(this.knownImageServers[e.root].malformed=!1,this.knownImageServers[e.root].verifications=this.config.verificationsRequired)}predict(e,t=!1,r=!1){let n=null==e?void 0:e.source,o=X(I(e)),a=this.knownImageServers[o];if(!a||!a.result||!((null==n?void 0:n.height)||e.height)||!((null==n?void 0:n.width)||e.width)||!r&&(a.malformed||a.verifications<this.config.verificationsRequired)||D(0,e.source))return null;let l=i(I(e));return this.imageServices[l]||(this.imageServices[l]={"@context":a.result.context,"@id":I(e),id:I(e),protocol:"http://iiif.io/api/image",tiles:(null==n?void 0:n.tiles)||function(e,t,r){let n=e>t?e:t,i=r.length,o=[];for(let e=0;e<i;e++){let t=r[e],i=t.scaleFactors[0],a=n/i,l=[i];for(;a>=t.width;)i*=2,l.push(i),a/=2;o.push(ei(en({},t),{scaleFactors:l}))}return o}(e.width,e.height,a.result.sampledTiles),sizes:(null==n?void 0:n.sizes)||function(e,t,r){let n=r.length,i=[];for(let o=0;o<n;o++){let n=r[o];i.push({width:Math.floor(e/n),height:Math.floor(t/n)})}return i}(Math.round(e.width/a.result.resourceServiceRatio),Math.round(e.height/a.result.resourceServiceRatio),a.result.sizeRatios),profile:(null==n?void 0:n.profile)||a.result.sampledProfile,height:(null==n?void 0:n.height)||e.height,width:(null==n?void 0:n.width)||e.width,real:!1}),this.imageServices[l]}getThumbnailFromResource(e,t){return eo(this,arguments,function*(e,t,r=!0,n=[]){let i=e?yield this.getImageCandidates(e,r):[];return function(e,t){let r=[],n=Object.assign({unsafeImageService:!1,atAnyCost:!0,fallback:!0,minHeight:64,minWidth:64,maxHeight:1/0,maxWidth:1/0,returnAllOptions:!1,preferFixedSize:!1,allowUnsafe:!1,explain:!1,height:0,width:0},e),i=(e,t=0)=>n.explain?r.push(Array(t).fill(0).map(e=>"    ").join("")+e().trim()):void 0,o=[],a=[],l=null;i(()=>`Using configuration: ${JSON.stringify(n,null,2)}`);let s=(e,t)=>{if(i(()=>"Swapping choice",3),function(e,t,r){let n=e.width?e.width:e.maxWidth;return r.height<=e.maxHeight&&r.width<=e.maxWidth&&r.height>=e.minHeight&&r.width>=e.minWidth&&(!t||Math.abs(r.width-n)<Math.abs(t.width-n))}(n,t,e)){if(n.preferFixedSize&&e.unsafe){i(()=>`We found an image that was marked as unsafe, but it was the best size. (${e.id})`,4),a.push(e);return}n.returnAllOptions&&t&&a.push(t),i(()=>`We found a new image that was the best size. (${e.id})`,4),l=e}else n.returnAllOptions&&a.push(e)};i(()=>`The input shows we have ${t.length} list(s) of candidates to choose from.`);let u=t.length;for(let e=0;e<u;e++){let r=t[e]();i(()=>`Candidate group ${e}: ${JSON.stringify(r,null,2)}`,1);let a=r.length;i(()=>`Checking candidate list number ${e} and found ${a} potential ways of creating image(s)`,1);for(let e=0;e<a;e++){let t=r[e];i(()=>`-> Checking candidate ${e}`,1),"unknown"===t.type&&n.atAnyCost&&(i(()=>'We\'ve found an unknown image type, adding this to the "last resort" list',2),o.push(t)),"fixed"===t.type&&(t.unsafe?(i(()=>'We\'ve found an unsafe fixed image type, adding this to the "last resort" list',2),o.push(t)):(i(()=>"We've found a fixed size image, checking if it matches the request",2),s(t,l))),"fixed-service"===t.type&&(n.unsafeImageService?(i(()=>"Checking for an image from the tile source, without calculating the right height and width (unsafeImageService)",2),s(K(t,n.width,n.height),l)):(i(()=>"Checking for an image from the tile source 3",2),s(K(t,t.width,t.height),l))),"variable"===t.type&&t.maxWidth&&s(K({id:t.id,type:"fixed-service",width:t.maxWidth,height:t.maxWidth,level:t.level,version:t.version},t.maxWidth),l)}if(l&&!n.returnAllOptions){if(l.unsafe||n.allowUnsafe)continue;i(()=>`We found a match in choice list number ${e}, no searching any more`);break}}return n.atAnyCost&&0===a.length?(i(()=>l?`We found an image! ${l.id} of type ${l.type}`:'We found no images, but "atAnyCost" is set, so returning that'),{best:l||o[0],fallback:o.slice(1),log:r}):n.returnAllOptions?(i(()=>"Returning all options that we have found"),{best:n.atAnyCost?l||a[0]||o[0]:l||a[0],fallback:[...a,...o],log:r}):(i(()=>"Returning the best image that we found, and a fallback"),{best:l||a[0]||null,fallback:l?a:a.slice(1),log:r})}(t,[()=>n,()=>i])})}getImageCandidates(e,t=!0){return eo(this,null,function*(){if(t&&e.height&&e.width)for(let t of W(e)){let r={id:I(t),width:t.width?t.width:e.width,height:t.height?t.height:e.height,source:t};yield this.loadService(r)}return function(e,t=!0,r){let n=[],i=function(e){if("string"==typeof e)return _(e);let t=e["@type"]?e["@type"]:e.type?e.type:void 0;if("Image"!==t&&"sc:Image"!==t)return null;let r=I(e);return r?r&&e.width&&e.height?{id:r,type:"fixed",width:e.width,height:e.height,unsafe:!0}:_(r):null}(e);if(null===i)return n;if(n.push(i),t&&e.width&&e.height){let t=[];for(let n of W(e)){let i={id:I(n),width:e.width,height:e.height};if(r.canLoadSync(i)){let n=r.loadServiceSync(i);n&&(n.height||(n.height=e.height),n.width||(n.width=e.width),t.push(...F([n])))}}if(t.length)return n.push(...t),n}return e.service&&n.push(...F(e.service)),n}(e,t,this)})}verify(e){return eo(this,null,function*(){let t=this.predict(e,!1,!0),r=yield this.fetchService(I(e));if(!t)return!1;let n=t.height===r.height&&t.width===r.width&&t["@context"]===r["@context"]&&function(e,t){if(e.length!==t.length)return!1;if(0===e.length&&0===t.length)return!0;let r=e.length,n=!0;for(let i=0;i<r;i++){let r=e[i],o=t[i];if(r.width!==o.width||r.height!==o.height){n=!1;break}}if(n)return!0;let i=0;for(let n=0;n<r;n++)for(let o=0;o<r;o++)if(e[n].width===t[o].width&&e[n].height===t[o].height){i++;break}return i===r}(t.sizes||[],r.sizes||[]);if(n){let t=X(I(e));this.knownImageServers[t].verifications+=1,this.knownImageServers[t].verifications>=this.config.verificationsRequired&&(this.knownImageServers[t].verified=!0)}return n})}canLoadSync(e){let t="string"==typeof e?e:I(e),r=i(t);if(this.imageServices[r])return!0;let n=this.knownImageServers[X(t)];return n&&!n.malformed&&n.verifications>=this.config.verificationsRequired}markAsMalformed(e){return eo(this,null,function*(){return this.knownImageServers[X(I(e))].malformed=!0,this.loadService(e,!0)})}fetchService(e,t=!1){return eo(this,null,function*(){let r=i(e);if(this.imageServices[r]&&(!t||this.imageServices[r].real))return this.imageServices[r];if(!this.config.enableFetching)throw Error("Fetching is not enabled");let n=yield this.fetch(r).then(e=>e.json());return!n.id&&n["@id"]&&(n.id=n["@id"]),n.id!==e&&(n.id=e,n["@id"]&&(n["@id"]=e)),this.imageServices[r]=Object.assign(n,{real:!0}),this.imageServices[r]})}fetch(e,t){return eo(this,null,function*(){return fetch(e,t)})}loadService(e,t=!1){return eo(this,null,function*(){if(!this.config.disableThrottling){let e=!0;for(;e;)if(this.fetchingCount>=this.config.verificationsRequired)yield new Promise(e=>setTimeout(e,500));else{e=!1;break}}let r=this.knownImageServers[X(I(e))];if(r&&!r.malformed&&!t){yield r.result;let t=this.loadServiceSync(e);if(t)return t}this.fetchingCount++;let n=yield this.fetchService(I(e),t);return this.fetchingCount--,n.real&&this.sample(n,e),n})}loadServiceSync(e){let t=i(I(e));return this.imageServices[t]?this.imageServices[t]:this.predict(e)}}function el(e){let t=(function(e){let t=e.length%4;if(1===t)throw Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");return e+(t?"====".slice(0,4-t):"")})(e).replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent("undefined"==typeof atob?n.from(t,"base64").toString("utf-8"):atob(t)).trim()}new ea,Symbol.for("_refs_"),Symbol.for("_reactive_"),Symbol.for("_defined_")},6295:function(e,t,r){"use strict";r.d(t,{j:function(){return tu}});var n=Object.defineProperty,i=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o=(e,t,r)=>(i(e,"symbol"!=typeof t?t+"":t,r),r);let a=[];Object.freeze(a);let l={id:"https://iiif-parser/annotation-page",type:"AnnotationPage",behavior:a,motivation:null,label:null,thumbnail:a,summary:null,requiredStatement:null,metadata:a,rights:null,provider:a,items:a,seeAlso:a,homepage:a,logo:a,rendering:a,service:a},s={id:"https://iiif-parser/empty-canvas",type:"Canvas",label:null,behavior:a,motivation:null,thumbnail:a,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:a,rights:null,navDate:null,provider:a,items:a,annotations:a,seeAlso:a,homepage:a,logo:a,partOf:a,rendering:a,service:a,duration:0,height:0,width:0},u={id:"https://iiif-parser/empty-collection",type:"Collection",label:null,viewingDirection:"left-to-right",behavior:a,motivation:null,thumbnail:a,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:a,rights:null,navDate:null,provider:a,items:a,annotations:a,seeAlso:a,homepage:a,logo:a,partOf:a,rendering:a,service:a,services:a},c={id:"https://iiif-parser/empty-manifest",type:"Manifest",annotations:a,behavior:a,homepage:a,items:a,label:null,logo:a,metadata:a,motivation:null,navDate:null,provider:a,partOf:a,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,rendering:a,requiredStatement:null,rights:null,seeAlso:a,service:a,services:a,start:null,structures:a,summary:null,thumbnail:a,viewingDirection:"left-to-right"},f={id:"https://iiif-parser/empty-canvas",type:"Range",label:null,behavior:a,motivation:null,thumbnail:a,posterCanvas:null,accompanyingCanvas:null,placeholderCanvas:null,summary:null,requiredStatement:null,metadata:a,rights:null,navDate:null,provider:a,items:a,annotations:a,seeAlso:a,homepage:a,logo:a,partOf:a,rendering:a,service:a,start:null,supplementary:null,viewingDirection:"left-to-right"},d={id:"https://iiif-parser/empty-agent",type:"Agent",label:{},logo:a,seeAlso:a,homepage:a};function p(e){return Array.isArray(e)?e:[e]}let h=["Collection","Manifest","Canvas","AnnotationPage","AnnotationCollection","Annotation","ContentResource","Range","Service","Selector","Agent"];class v{constructor(e,t={}){o(this,"traversals"),o(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationCollection:[],annotationPage:[],annotation:[],contentResource:[],choice:[],range:[],service:[],agent:[],...e},this.options={allowUndefinedReturn:!1,...t}}static all(e){return new v({collection:[e],manifest:[e],canvas:[e],annotationCollection:[e],annotationPage:[e],annotation:[e],contentResource:[e],choice:[e],range:[e],service:[e]})}traverseDescriptive(e){return e.thumbnail&&(e.thumbnail=e.thumbnail.map(e=>this.traverseType(e,this.traversals.contentResource))),e.provider&&(e.provider=e.provider.map(e=>this.traverseAgent(e))),e}traverseLinking(e){return e.seeAlso&&(e.seeAlso=e.seeAlso.map(e=>this.traverseType(e,this.traversals.contentResource))),e.service&&(e.service=p(e.service).map(e=>this.traverseType(e,this.traversals.service))),e.services&&(e.services=e.services.map(e=>this.traverseType(e,this.traversals.service))),e.logo&&(e.logo=e.logo.map(e=>this.traverseType(e,this.traversals.contentResource))),e.homepage&&(e.homepage=e.homepage.map(e=>this.traverseType(e,this.traversals.contentResource))),e.partOf&&(e.partOf=e.partOf.map(e=>"string"!=typeof e&&e.type?"Canvas"===e.type?this.traverseType(e,this.traversals.canvas):"AnnotationCollection"===e.type?this.traverseType(e,this.traversals.annotationCollection):"Collection"===e.type?this.traverseType(e,this.traversals.collection):this.traverseType(e,this.traversals.contentResource):this.traverseType(e,this.traversals.contentResource))),e.start&&(e.start=e.start?this.traverseType(e.start,this.traversals.canvas):null),e.rendering&&(e.rendering=e.rendering.map(e=>this.traverseType(e,this.traversals.contentResource))),e.supplementary&&(e.supplementary=e.supplementary.map(e=>this.traverseType(e,this.traversals.contentResource))),e}traverseCollectionItems(e){return e.items&&e.items.map(e=>"Collection"===e.type?this.traverseCollection(e):this.traverseManifest(e)),e}traverseCollection(e){return this.traverseType(this.traverseDescriptive(this.traverseInlineAnnotationPages(this.traverseLinking(this.traversePosterCanvas(this.traverseCollectionItems(e))))),this.traversals.collection)}traverseManifestItems(e){return e.items&&(e.items=e.items.map(e=>this.traverseCanvas(e))),e}traverseManifestStructures(e){return e.structures&&(e.structures=e.structures.map(e=>this.traverseRange(e))),e}traverseManifest(e){return this.traverseType(this.traverseInlineAnnotationPages(this.traverseManifestStructures(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(e)))))),this.traversals.manifest)}traverseCanvasItems(e){return e.items=(e.items||[]).map(e=>this.traverseAnnotationPage(e)),e}traverseInlineAnnotationPages(e){return"string"!=typeof e&&e&&e.annotations&&(e.annotations=e.annotations.map(e=>this.traverseAnnotationPage(e))),e}traverseCanvas(e){return this.traverseType(this.traverseInlineAnnotationPages(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(e))))),this.traversals.canvas)}traverseAnnotationPageItems(e){return e.items&&(e.items=e.items.map(e=>this.traverseAnnotation(e))),e}traverseAnnotationPage(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationPageItems(e))),this.traversals.annotationPage)}traverseAnnotationBody(e){return Array.isArray(e.body)?e.body=e.body.map(e=>this.traverseContentResource(e)):e.body&&(e.body=this.traverseContentResource(e.body)),e}traversePosterCanvas(e){return e.posterCanvas&&(e.posterCanvas=this.traverseCanvas(e.posterCanvas)),e.placeholderCanvas&&(e.placeholderCanvas=this.traverseCanvas(e.placeholderCanvas)),e.accompanyingCanvas&&(e.accompanyingCanvas=this.traverseCanvas(e.accompanyingCanvas)),e}traverseAnnotation(e){return this.traverseType(this.traverseLinking(this.traverseAnnotationBody(e)),this.traversals.annotation)}traverseContentResourceLinking(e){return"string"!=typeof e&&e&&e&&e.service&&(e.service=p(e.service||[]).map(e=>this.traverseType(e,this.traversals.service))),e}traverseContentResource(e){return"Choice"===e.type&&(e.items=e.items.map(e=>this.traverseContentResource(e))),this.traverseType(this.traverseInlineAnnotationPages(this.traverseContentResourceLinking(e)),this.traversals.contentResource)}traverseRangeRanges(e){return e.items&&(e.items=e.items.map(e=>"string"==typeof e?this.traverseCanvas({id:e,type:"Canvas"}):"Manifest"===e.type?this.traverseManifest(e):this.traverseRange(e))),e}traverseRange(e){return this.traverseType(this.traversePosterCanvas(this.traverseDescriptive(this.traverseLinking(this.traverseRangeRanges(e)))),this.traversals.range)}traverseAgent(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(e)),this.traversals.agent)}traverseType(e,t){return t.reduce((e,t)=>{let r=t(e);return void 0!==r||this.options.allowUndefinedReturn?r:e},e)}traverseService(e){return this.traverseType(e,this.traversals.service)}traverseUnknown(e){let t=function(e){if(null==e)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(e))throw Error("Array is not a valid entity");if("object"!=typeof e)throw Error(`${typeof e} is not a valid entity`);if("string"==typeof e.type){let t=h.indexOf(e.type);if(-1!==t)return h[t]}if(e.profile)return"Service";throw Error("Resource type is not known")}(e);switch(t){case"Collection":return this.traverseCollection(e);case"Manifest":return this.traverseManifest(e);case"Canvas":return this.traverseCanvas(e);case"AnnotationPage":return this.traverseAnnotationPage(e);case"Annotation":return this.traverseAnnotation(e);case"ContentResource":return this.traverseContentResource(e);case"Range":return this.traverseRange(e);case"Service":return this.traverseService(e);case"Agent":return this.traverseAgent(e);default:throw Error(`Unknown or unsupported resource type of ${t}`)}}}let m=["sc:Collection","sc:Manifest","sc:Canvas","sc:AnnotationList","oa:Annotation","sc:Range","sc:Layer","sc:Sequence","oa:Choice","Service","ContentResource"];class g{constructor(e,t={}){o(this,"traversals"),o(this,"options"),this.traversals={collection:[],manifest:[],canvas:[],annotationList:[],sequence:[],annotation:[],contentResource:[],choice:[],range:[],service:[],layer:[],...e},this.options={convertPropsToArray:!0,mergeMemberProperties:!0,allowUndefinedReturn:!1,...t}}static all(e){return new g({collection:[e],manifest:[e],canvas:[e],annotationList:[e],sequence:[e],annotation:[e],contentResource:[e],choice:[e],range:[e],service:[e],layer:[e]})}traverseCollection(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCollectionItems(e))),this.traversals.collection)}traverseCollectionItems(e){if(this.options.mergeMemberProperties){let t=[...(e.manifests||[]).map(e=>"string"==typeof e?{"@id":e,"@type":"sc:Manifest"}:e),...(e.collections||[]).map(e=>"string"==typeof e?{"@id":e,"@type":"sc:Collection"}:e),...e.members||[]];delete e.collections,delete e.manifests,e.members=t}return e.manifests&&(e.manifests=e.manifests.map(e=>this.traverseManifest("string"==typeof e?{"@id":e,"@type":"sc:Manifest"}:e))),e.collections&&(e.collections=e.collections.map(e=>this.traverseCollection("string"==typeof e?{"@id":e,"@type":"sc:Collection"}:e))),e.members&&(e.members=e.members.map(e=>"string"==typeof e?e:this.traverseUnknown(e))),e}traverseManifest(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseManifestItems(e))),this.traversals.manifest)}traverseManifestItems(e){return e.sequences&&(e.sequences=e.sequences.map(e=>this.traverseSequence(e))),e.structures&&(e.structures=e.structures.map(e=>this.traverseRange(e))),e}traverseSequence(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseSequenceItems(e))),this.traversals.sequence)}traverseSequenceItems(e){return e.canvases&&(e.canvases=e.canvases.map(e=>this.traverseCanvas(e))),e}traverseCanvas(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseCanvasItems(e))),this.traversals.canvas)}traverseCanvasItems(e){return e.images&&(e.images=e.images.map(e=>this.traverseAnnotation(e))),e.otherContent&&(e.otherContent=e.otherContent.map(e=>this.traverseAnnotationList(e))),e}traverseRange(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseRangeItems(e))),this.traversals.range)}traverseRangeItems(e){if(this.options.mergeMemberProperties){let t=[...(e.ranges||[]).map(e=>"string"==typeof e?{"@id":e,"@type":"sc:Range"}:e),...(e.canvases||[]).map(e=>"string"==typeof e?{"@id":e,"@type":"sc:Canvas"}:e),...e.members||[]];delete e.ranges,delete e.canvases,e.members=t.length?t.map(e=>this.traverseUnknown(e)):void 0}return e}traverseAnnotationList(e){return this.traverseType(this.traverseDescriptive(this.traverseAnnotationListItems("string"==typeof e?{"@id":e,"@type":"sc:AnnotationList"}:e)),this.traversals.annotationList)}traverseAnnotationListItems(e){return e.resources&&(e.resources=e.resources.map(e=>this.traverseAnnotation(e))),e}traverseAnnotation(e){return this.traverseType(this.traverseDescriptive(this.traverseLinking(this.traverseAnnotationItems(e))),this.traversals.annotation)}traverseAnnotationItems(e){return e.resource&&(Array.isArray(e.resource)?e.resource=e.resource.map(e=>this.traverseContentResource(e)):e.resource=this.traverseContentResource(e.resource)),e.on,e}traverseLayer(e){return this.traverseType(this.traverseLinking(this.traverseLayerItems(e)),this.traversals.layer)}traverseLayerItems(e){return e.otherContent&&(e.otherContent=e.otherContent.map(e=>this.traverseAnnotationList(e))),e}traverseChoice(e){return this.traverseType(this.traverseChoiceItems(e),this.traversals.choice)}traverseChoiceItems(e){return e.default&&"rdf:nil"!==e.default&&(e.default=this.traverseContentResource(e.default)),e.item&&"rdf:nil"!==e.item&&(e.item=e.item.map(e=>this.traverseContentResource(e))),e}traverseService(e){return this.traverseType(this.traverseLinking(e),this.traversals.service)}traverseContentResource(e){return"oa:Choice"===e["@type"]?this.traverseChoice(e):this.traverseType(this.traverseDescriptive(this.traverseLinking(e)),this.traversals.contentResource)}traverseUnknown(e){if(!e["@type"]||"string"==typeof e)return e;switch(function(e){if(null==e)throw Error("Null or undefined is not a valid entity.");if(Array.isArray(e))throw Error("Array is not a valid entity");if("object"!=typeof e)throw Error(`${typeof e} is not a valid entity`);if("string"==typeof e["@type"]){let t=m.indexOf(e["@type"]);if(-1!==t)return m[t]}if(e.profile)return"Service";if(e.format||e["@type"])return"ContentResource";throw Error("Resource type is not known")}(e)){case"sc:Collection":return this.traverseCollection(e);case"sc:Manifest":return this.traverseManifest(e);case"sc:Canvas":return this.traverseCanvas(e);case"sc:Sequence":return this.traverseSequence(e);case"sc:Range":return this.traverseRange(e);case"oa:Annotation":return this.traverseAnnotation(e);case"sc:AnnotationList":return this.traverseAnnotationList(e);case"sc:Layer":return this.traverseLayer(e);case"Service":return this.traverseService(e);case"oa:Choice":return this.traverseChoice(e);case"ContentResource":return this.traverseContentResource(e)}return e.profile?this.traverseService(e):e}traverseImageResource(e){let t=Array.isArray(e),r=Array.isArray(e)?e:[e],n=[];for(let e of r)"string"==typeof e?n.push(this.traverseContentResource({"@id":e,"@type":"dctypes:Image"})):n.push(this.traverseContentResource(e));return t||this.options.convertPropsToArray?n:n[0]}traverseDescriptive(e){return e.thumbnail&&(e.thumbnail=this.traverseImageResource(e.thumbnail)),e.logo&&(e.logo=this.traverseImageResource(e.logo)),e}traverseOneOrMoreServices(e){let t=Array.isArray(e),r=Array.isArray(e)?e:[e],n=[];for(let e of r)n.push(this.traverseService(e));return t||this.options.convertPropsToArray?n:n[0]}traverseLinking(e){return e.related&&(e.related=this.traverseOneOrManyType(e.related,this.traversals.contentResource)),e.rendering&&(e.rendering=this.traverseOneOrManyType(e.rendering,this.traversals.contentResource)),e.service&&(e.service=this.traverseOneOrMoreServices(e.service)),e.seeAlso&&(e.seeAlso=this.traverseOneOrManyType(e.seeAlso,this.traversals.contentResource)),e.within&&("string"==typeof e.within||(e.within=this.traverseOneOrManyType(e.within,this.traversals.contentResource))),e.startCanvas&&("string"==typeof e.startCanvas?e.startCanvas=this.traverseType({"@id":e.startCanvas,"@type":"sc:Canvas"},this.traversals.canvas):e.startCanvas&&this.traverseType(e.startCanvas,this.traversals.canvas)),e.contentLayer&&("string"==typeof e.contentLayer?e.contentLayer=this.traverseLayer({"@id":e.contentLayer,"@type":"sc:Layer"}):e.contentLayer=this.traverseLayer(e.contentLayer)),e}traverseOneOrManyType(e,t){if(!Array.isArray(e)){if(!this.options.convertPropsToArray)return this.traverseType(e,t);e=[e]}return e.map(e=>this.traverseType(e,t))}traverseType(e,t){return t.reduce((e,t)=>{let r=t(e);return void 0!==r||this.options.allowUndefinedReturn?r:e},e)}}let y="http://library.stanford.edu/iiif/image-api/compliance.html#level1",b="http://library.stanford.edu/iiif/image-api/compliance.html#level2",w="http://library.stanford.edu/iiif/image-api/conformance.html#level1",E="http://library.stanford.edu/iiif/image-api/conformance.html#level2",x="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",C="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",A="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",S="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",R="http://iiif.io/api/image/1/level1.json",O="http://iiif.io/api/image/1/profiles/level1.json",T="http://iiif.io/api/image/1/level2.json",P="http://iiif.io/api/image/1/profiles/level2.json",k="http://iiif.io/api/image/2/level1.json",I="http://iiif.io/api/image/2/profiles/level1.json",M="http://iiif.io/api/image/2/level2.json",D="http://iiif.io/api/image/2/profiles/level2.json",L="level1",j="level2",_="http://iiif.io/api/image/2/level1",F="http://iiif.io/api/image/2/level2",W=[_,F,y,b,w,E,x,C,A,S,R,O,T,P,k,I,M,D,L,j],N=["http://iiif.io/api/image/2/level0",_,F,"http://library.stanford.edu/iiif/image-api/compliance.html#level0",y,b,"http://library.stanford.edu/iiif/image-api/conformance.html#level0",w,E,"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",x,C,"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",A,S,"http://iiif.io/api/image/1/level0.json","http://iiif.io/api/image/1/profiles/level0.json",R,O,T,P,"http://iiif.io/api/image/2/level0.json","http://iiif.io/api/image/2/profiles/level0.json",k,I,M,D,"level0",L,j],$={attributionLabel:"Attribution",providerId:"http://example.org/provider",providerName:"Unknown"};function V(e,t="none"){if(!e)return{};let r=Array.isArray(e)?e:[e],n={};for(let e of r){if("string"==typeof e){n[t]=n[t]?n[t]:[],n[t].push(e||"");continue}if(!e["@language"]){n[t]=n[t]?n[t]:[],n[t].push(e["@value"]||"");continue}let r=e["@language"];n[r]=n[r]?n[r]:[],n[r].push(e["@value"]||"")}return n}function B(e){for(let t of["sc","oa","dcterms","dctypes","iiif"])if(e.startsWith(`${t}:`))return e.slice(t.length+1);return e}let U=["Collection","Manifest","Annotation","AnnotationPage","Range","Service"];function q(e){let t=e["@id"]||e.id,r=e["@type"]||e.type,n=e.profile||void 0,i=e["@context"]||void 0;if(n){let e=function(e){switch(e){case"http://iiif.io/api/image/2/level0.json":case"http://iiif.io/api/image/2/level1.json":case"http://iiif.io/api/image/2/level2.json":return"ImageService2";case"http://iiif.io/api/auth/1/kiosk":case"http://iiif.io/api/auth/1/login":case"http://iiif.io/api/auth/1/clickthrough":case"http://iiif.io/api/auth/1/external":case"http://iiif.io/api/auth/0/kiosk":case"http://iiif.io/api/auth/0/login":case"http://iiif.io/api/auth/0/clickthrough":case"http://iiif.io/api/auth/0/external":return"AuthCookieService1";case"http://iiif.io/api/auth/1/token":case"http://iiif.io/api/auth/0/token":return"AuthTokenService1";case"http://iiif.io/api/auth/1/logout":case"http://iiif.io/api/auth/0/logout":return"AuthLogoutService1";case"http://iiif.io/api/search/1/search":case"http://iiif.io/api/search/0/search":return"SearchService1";case"http://iiif.io/api/search/1/autocomplete":case"http://iiif.io/api/search/0/autocomplete":return"AutoCompleteService1"}}(n);if(e)return e}if(i){let e=function(e){for(let t of Array.isArray(e)?e:[e])switch(t){case"http://iiif.io/api/image/2/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2":return"ImageService2";case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":return"ImageService1";case"http://iiif.io/api/annex/openannotation/context.json":return"ImageApiSelector"}}(i);if(e)return e}if(r){if(Array.isArray(r)){if(-1!==r.indexOf("oa:CssStylesheet"))return"CssStylesheet";if(-1!==r.indexOf("cnt:ContentAsText"))return"TextualBody";r=r[0]}for(let e of["sc","oa","dcterms","dctypes","iiif"])if(r.startsWith(`${e}:`)){r=r.slice(e.length+1);break}switch(r){case"Layer":return"AnnotationCollection";case"AnnotationList":return"AnnotationPage";case"cnt:ContentAsText":return"TextualBody"}}if(r&&-1!==U.indexOf(r))return r;if(e.format){if(e.format.startsWith("image/"))return"Image";if(e.format.startsWith("text/")||"application/pdf"===e.format)return"Text";if(e.format.startsWith("application/"))return"Dataset"}return t&&(t.endsWith(".jpg")||t.endsWith(".png")||t.endsWith(".jpeg"))?"Image":r||"unknown"}let H=/http(s)?:\/\/(creativecommons.org|rightsstatements.org)[^"'\\<\n]+/gm,z=["http://iiif.io/api/presentation/2/context.json","http://iiif.io/api/image/2/context.json","http://iiif.io/api/image/1/context.json","http://library.stanford.edu/iiif/image-api/1.1/context.json","http://iiif.io/api/search/1/context.json","http://iiif.io/api/search/0/context.json","http://iiif.io/api/auth/1/context.json","http://iiif.io/api/auth/0/context.json","http://iiif.io/api/annex/openannotation/context.json"];function Z(e){for(let t in e)(void 0===e[t]||null===e[t])&&delete e[t];return e}let K=0;function X(e,t){let r=encodeURI(e.id||e["@id"]||"").trim();return r&&t?`${r}/${t}`:r||(K++,`http://example.org/${e["@type"]}${t?`/${t}`:""}/${K}`)}function Q(e){let t;let r=[...e.behavior||[]];return e.viewingHint&&r.push(e.viewingHint),Array.isArray(e.motivation)?t=e.motivation.map(B):e.motivation&&(t=B(e.motivation)),{"@context":e["@context"]?function(e){if(e){let t=Array.isArray(e)?e:[e],r=[];for(let e of t)"http://iiif.io/api/presentation/2/context.json"===e&&r.push("http://iiif.io/api/presentation/3/context.json"),-1===z.indexOf(e)&&r.push(e);if(t.length)return 1===r.length?r[0]:r}}(e["@context"]):void 0,id:(e["@id"]||X(e)).trim(),type:q(e),behavior:r.length?r:void 0,height:e.height?e.height:void 0,width:e.width?e.width:void 0,motivation:t,viewingDirection:e.viewingDirection,profile:e.profile,format:e.format?e.format:void 0,duration:void 0,timeMode:void 0}}function Y(e){var t;let[r,n]=function(e,t="Rights/License",r="none"){let n=null,i=[];for(let o of Array.isArray(e)?e:[e]){let e=o?function(e){let t=e.match(H);return t?t[0]:e}(o):void 0;if(e&&(-1!==e.indexOf("creativecommons.org")||-1!==e.indexOf("rightsstatements.org"))){n=e.startsWith("https://")?`http://${e.slice(8)}`:e;continue}e&&i.push({label:{[r]:[t]},value:{[r]:[e]}})}return[n,i]}(e.license),i=[...e.metadata&&(t=e.metadata)?t.map(e=>({label:V(e.label),value:V(e.value)})):[],...n];return{rights:r,metadata:i.length?i:void 0,label:e.label?V(e.label):void 0,requiredStatement:e.attribution?{label:V($.attributionLabel),value:V(e.attribution)}:void 0,navDate:e.navDate,summary:e.description?V(e.description):void 0,thumbnail:e.thumbnail}}function G(e){let t=e.related?Array.isArray(e.related)?e.related:[e.related]:[],r=e.contentLayer;return{provider:e.logo||t.length?[{id:$.providerId,type:"Agent",homepage:t.length?[t[0]]:void 0,logo:e.logo?Array.isArray(e.logo)?e.logo:[e.logo]:void 0,label:V($.providerName)}]:void 0,partOf:function(e){if(!e.within)return;let t=Array.isArray(e.within)?e.within:[e.within],r=[];for(let n of t)"string"==typeof n?n&&"sc:Manifest"===e["@type"]&&r.push({id:n,type:"Collection"}):n["@id"]&&r.push({id:n["@id"],type:q(n)});return r.length?r:void 0}(e),rendering:e.rendering,seeAlso:e.seeAlso,start:e.startCanvas,service:e.service?p(e.service):void 0,supplementary:r?[r]:void 0}}function J(e){return Z({...Q(e),...Y(e),...G(e),chars:e.chars,format:e.format?e.format:void 0,language:e.language})}let ee=new g({collection:[function(e){return Z({...Q(e),...Y(e),...G(e),items:e.members})}],manifest:[function(e){let t=[],r=[];for(let n of e.sequences||[])n.canvases.length&&t.push(...n.canvases),n.behavior&&r.push(...n.behavior);let n=Q(e);return r.length&&(n.behavior?n.behavior.push(...r):n.behavior=r),Z({...n,...Y(e),...G(e),items:t,structures:e.structures})}],canvas:[function(e){return Z({...Q(e),...Y(e),...G(e),annotations:e.otherContent&&e.otherContent.length?e.otherContent:void 0,items:e.images&&e.images.length?[{id:X(e,"annotation-page"),type:"AnnotationPage",items:e.images}]:void 0})}],annotationList:[function(e){return Z({...Q(e),...Y(e),...G(e),items:e.resources&&e.resources.length?e.resources:void 0})}],sequence:[function(e){return e.canvases&&0!==e.canvases.length?{canvases:e.canvases,behavior:e.viewingHint?[e.viewingHint]:[]}:{canvases:[],behavior:[]}}],annotation:[function(e){return Z({...Q(e),...Y(e),...G(e),target:function e(t){if(Array.isArray(t)){if(t.length>1)return{type:"List",items:t.map(e)};t=t[0]}if("string"==typeof t)return encodeURI(t).trim();if(!("@type"in t))return encodeURI(t["@id"]).trim();{let e;if("string"==typeof t.full)e=t.full;else if("dctypes:Image"===t.full["@type"])e={id:t.full["@id"],type:"Image"};else if("sc:Canvas"===t.full["@type"])e={id:t.full["@id"],type:"Canvas"};else throw Error(`Unsupported source type on annotation: ${t.full["@type"]}`);return{type:"SpecificResource",source:e,selector:function e(t){if((Array.isArray(t["@type"])&&t["@type"].includes("oa:SvgSelector")||"oa:SvgSelector"==t["@type"])&&("chars"in t||"value"in t))return{type:"SvgSelector",value:"chars"in t?t.chars:t.value};if("oa:FragmentSelector"===t["@type"])return{type:"FragmentSelector",value:t.value};if("oa:Choice"===t["@type"])return[e(t.default),...(Array.isArray(t.item)?t.item:[t.item]).map(e)];if("iiif:ImageApiSelector"==t["@type"])return{type:"ImageApiSelector",region:"region"in t?t.region:void 0,rotation:"rotation"in t?t.rotation:void 0};throw Error(`Unsupported selector type: ${t["@type"]}`)}(t.selector)}}}(e.on),body:Array.isArray(e.resource)?e.resource.map(J):J(e.resource)})}],contentResource:[J],choice:[function(e){let t=[];return e.default&&"rdf:nil"!==e.default&&t.push(e.default),e.item&&"rdf:nil"!==e.item&&t.push(...e.item),{...Q(e),...Y(e),items:t}}],range:[function(e){return Z({...Q(e),...Y(e),...G(e),items:e.members})}],service:[function(e){let{"@id":t,"@type":r,"@context":n,profile:i,...o}=e,a={};return t&&(a["@id"]=t),a["@type"]=q(e),"unknown"===a["@type"]&&(n&&n.length&&(a["@context"]=n),a["@type"]="Service"),i&&(a.profile=function e(t){return Array.isArray(t)?e(t.find(e=>"string"==typeof e)):-1!==N.indexOf(t)?"level2":-1!==W.indexOf(t)?"level1":"string"==typeof t?t:void 0}(i)),Z({...a,...o})}],layer:[function(e){return Z({...Q(e),...Y(e),...G(e)})}]});function et(e,t){if("string"==typeof e)return{id:e,type:t};if(!e.id)throw Error(`Invalid resource does not have an ID (${t})`);return e}function er(e){return t=>"string"==typeof t?{id:t,type:e}:t.id?t.type?t:{type:e,...t}:{id:`vault://${function(e){let t=JSON.stringify(e),r=5381,n=t.length;for(;n;)r=33*r^t.charCodeAt(--n);let i=(r>>>0).toString(16);return i.length%2?"0"+i:i}(t)}`,type:e,...t}}function en(e){return t=>({...e,...t})}function ei(e){return Array.isArray(e)?e:[e]}function eo(e){return e.body&&(e.body=ei(e.body)),e.seeAlso&&(e.seeAlso=ei(e.seeAlso)),e.body&&(e.body=ei(e.body)),e.audience&&(e.audience=ei(e.audience)),e.accessibility&&(e.accessibility=ei(e.accessibility)),e.motivation&&(e.motivation=ei(e.motivation)),e}let ea="__$UNSET$__",el="__$UNWRAP$__";function es(e){if(!e)return;let t=Object.keys(e);if(0!==t.length){if(1===t.length){let r=t[0];if(!r)return"";let n=(e[r]||[]).join("");return"@none"===r||"none"===r||"en"===r?n:{"@language":r,"@value":n}}return t.map(t=>({"@language":t,"@value":(e[t]||[]).join("")}))}}function eu(e,t=!1){return e?e.length>1&&!t?e:e[0]||void 0:void 0}function ec(e){if(e){if("string"==typeof e)return{"@id":e};if("@id"in e){let t={...e};return delete t["@type"],t}return{"@context":"http://iiif.io/api/image/2/context.json","@id":e.id,profile:`http://iiif.io/api/image/2/profiles/${e.profile}.json`}}}function ef(e,t){return[["@id",e.id],["@type",t],["format",e.format],["height",e.height],["width",e.width],["viewingDirection","left-to-right"!==e.viewingDirection?e.viewingDirection:void 0]]}function*ed(e){let t=e.provider?yield e.provider[0]:void 0;return[["label",es(e.label)],["metadata",e.metadata&&e.metadata.length?e.metadata.map(e=>({label:es(e.label)||"",value:es(e.value)||""})):void 0],["description",es(e.summary)],["thumbnail",eu((yield e.thumbnail))],["navDate",e.navDate],["logo",t?eu(t.logo):void 0],["homepage",t?t.homepage:void 0],["attribution",e.requiredStatement?es(e.requiredStatement.value):void 0]]}function*ep(e){return[["seeAlso",eu((yield e.seeAlso))],["service",eu((e.service||[]).map(ec))],["rendering",eu((yield e.rendering))],["startCanvas",e.start?e.start.id:void 0]]}let eh={Manifest:function*(e){return[...ef(e,"sc:Manifest"),...yield*ed(e),...yield*ep(e),["sequences",[{"@id":`${e.id}/sequence0`,"@type":"sc:Sequence",canvases:yield e.items}]],["structures",(yield e.structures)]]},Canvas:function*(e){let t=(yield e.items)[0];return[...ef(e,"sc:Canvas"),...yield*ed(e),...yield*ep(e),["images",t?[t.resources]:void 0],["annotations",e.annotations&&e.annotations.length?eu((yield e.annotations)):void 0]]},AnnotationPage:function*(e){return[...ef(e,"sc:AnnotationList"),...yield*ed(e),["resources",e.items&&e.items.length?eu((yield e.items)):void 0]]},Annotation:function*(e){return[["@id",e.id],["@type","oa:Annotation"],["motivation","sc:painting"],["on",function e(t){return Array.isArray(t)?t.map(t=>e(t)):"string"==typeof t?t:t.type&&"Canvas"===t.type?t.id:t}(e.target)],["resource",eu((yield e.body),!0)]]},ContentResource:function*(e){return"Image"===e.type?[...ef(e,"dctypes:Image"),...yield*ed(e),...yield*ep(e)]:[...ef(e,void 0),...yield*ed(e)]},AnnotationCollection:function*(e){return[["@id",e.id],["@type","sc:Layer"],["label",es(e.label)]]},Collection:function*(e){return[...ef(e,"sc:Collection"),...yield*ed(e),...yield*ep(e),["members",(yield*e.items)]]},Range:function*(e){let t=[],r=[];if(e.items)for(let n of e.items){let i=yield n;t.push({"@id":n.id,"@type":n.type,label:i?i.label:void 0,within:e.id}),"Canvas"===n.type&&r.push(n.id)}return[...ef(e,"sc:Range"),...yield*ed(e),...yield*ep(e),["canvases",r.length===t.length?r:void 0],["members",r.length!==t.length?t:void 0]]}};function ev(e){var t;return[["id",(null==(t=e.id)?void 0:t.startsWith("vault://"))?void 0:e.id],["type",e.type],["format",e.format],["profile",e.profile],["height",e.height],["width",e.width],["duration",e.duration||void 0],["viewingDirection","left-to-right"!==e.viewingDirection?e.viewingDirection:void 0],["behavior",e.behavior&&e.behavior.length?e.behavior:void 0],["timeMode",e.timeMode],["motivation",Array.isArray(e.motivation)?e.motivation[0]:e.motivation]]}function em(e){if(e&&0!==e.length)return e}function eg(e){if(e&&e.type&&"ImageService2"===e.type){let{id:t,type:r,profile:n,...i}=e,o="string"==typeof n?n:Array.isArray(n)?n.find(e=>"string"==typeof e):"";return{"@id":t,"@type":r,profile:o?o.startsWith("http")?o:`http://iiif.io/api/image/2/${o}.json`:"http://iiif.io/api/image/2/level0.json",...i}}return e}function ey(e){if(e&&0!==e.length)return e.map(eg)}function*eb(e){return[["label",e.label],["metadata",em(e.metadata)],["summary",e.summary],["requiredStatement",e.requiredStatement],["rights",e.rights],["navDate",e.navDate],["language",e.language],["thumbnail",em((yield e.thumbnail))],["placeholderCanvas",(yield e.placeholderCanvas)],["accompanyingCanvas",(yield e.accompanyingCanvas)],["provider",em((yield e.provider))]]}function*ew(e){return[["seeAlso",em((yield e.seeAlso))],["service",ey(e.service)],["services",ey(e.services)],["rendering",em((yield e.rendering))],["supplementary",em((yield e.supplementary))],["homepage",em((yield e.homepage))],["logo",em((yield e.logo))],["partOf",em((yield e.partOf))],["start",e.start]]}let eE={Manifest:function*(e,t,{isTopLevel:r}){return r?[["@context","http://iiif.io/api/presentation/3/context.json"],...ev(e),...yield*eb(e),...yield*ew(e),["items",(yield e.items)],["structures",em((yield e.structures))],["annotations",em((yield e.annotations))]]:[...ev(e),...yield*eb(e)]},Canvas:function*(e){return[...ev(e),...yield*eb(e),...yield*ew(e),["items",(yield e.items)],["annotations",em((yield e.annotations))]]},Agent:function*(e){return[["id",e.id],["type","Agent"],["label",e.label],...yield*ew(e)]},AnnotationPage:function*(e){return[...Object.entries(e).map(([e,t])=>[e,Array.isArray(t)?em(t):t]).filter(([e,t])=>"items"!==e),...yield*ew(e),["items",(yield e.items)]]},Service:function*(e){return[[el,eg(e)]]},Annotation:function*(e){let t=Object.entries(e).map(([e,t])=>"motivation"===e?[e,Array.isArray(t)?t[0]:t]:[e,Array.isArray(t)?em(t):t]).filter(([e])=>"body"!==e),r=yield e.body;return[...t,["body",1===r.length?r[0]:r]]},ContentResource:function*(e){return[...ev(e),...yield*eb(e),...yield*ew(e),["annotations",em((yield e.annotations))],["items",em((yield e.items))]]},AnnotationCollection:function*(e){return[["id",e.id],["type","AnnotationCollection"],["label",e.label]]},Collection:function*(e,t,{isTopLevel:r}){return r?[["@context","http://iiif.io/api/presentation/3/context.json"],...ev(e),...yield*eb(e),...yield*ew(e),["items",em((yield e.items))]]:[...ev(e),...yield*eb(e)]},Range:function*(e){let t=[];for(let r of e.items)"Range"===r.type?t.push((yield r)):t.push(r);return[...ev(e),...yield*eb(e),...yield*ew(e),["items",t],["annotations",em((yield e.annotations))]]}};var ex=r(1518);function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(t){!function(e,t,r){var n;n=function(e,t){if("object"!=eC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==eC(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eR(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var eO="function"==typeof Symbol&&Symbol.observable||"@@observable",eT=function(){return Math.random().toString(36).substring(7).split("").join(".")},eP={INIT:"@@redux/INIT"+eT(),REPLACE:"@@redux/REPLACE"+eT(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+eT()}};function ek(e){for(var t,r=Object.keys(e),n={},i=0;i<r.length;i++){var o=r[i];"function"==typeof e[o]&&(n[o]=e[o])}var a=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:eP.INIT}))throw Error(eR(12));if(void 0===r(void 0,{type:eP.PROBE_UNKNOWN_ACTION()}))throw Error(eR(13))})}(n)}catch(e){t=e}return function(e,r){if(void 0===e&&(e={}),t)throw t;for(var i=!1,o={},l=0;l<a.length;l++){var s=a[l],u=n[s],c=e[s],f=u(c,r);if(void 0===f)throw r&&r.type,Error(eR(14));o[s]=f,i=i||f!==c}return(i=i||a.length!==Object.keys(e).length)?o:e}}function eI(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function eM(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw Error(eR(15))},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=t.map(function(e){return e(i)});return n=eI.apply(void 0,o)(r.dispatch),eS(eS({},r),{},{dispatch:n})}}}let eD="@iiif/IMPORT_ENTITIES",eL="@iiif/MODIFY_ENTITY_FIELD",ej="@iiif/REORDER_ENTITY_FIELD",e_="@iiif/ADD_REFERENCE",eF="@iiif/REMOVE_REFERENCE",eW=(0,ex.createAction)(eD)(),eN=(0,ex.createAction)(eL)(),e$={importEntities:eW,modifyEntityField:eN,reorderEntityField:(0,ex.createAction)(ej)(),addReference:(0,ex.createAction)(e_)(),removeReference:(0,ex.createAction)(eF)()},eV="@iiif/ADD_MAPPING",eB="@iiif/ADD_MAPPINGS",eU=(0,ex.createAction)(eV)(),eq=(0,ex.createAction)(eB)(),eH="@iiif/SET_META_VALUE",ez="@iiif/SET_META_VALUE_DYNAMIC",eZ="@iiif/UNSET_META_VALUE",eK={setMetaValue:(0,ex.createAction)(eH)(),setMetaValueDynamic:(0,ex.createAction)(ez)(),unsetMetaValue:(0,ex.createAction)(eZ)()},eX="RESOURCE_ERROR",eQ="RESOURCE_LOADING",eY="RESOURCE_READY",eG="@iiif/REQUEST_RESOURCE",eJ="@iiif/REQUEST_ERROR",e0="@iiif/REQUEST_MISMATCH",e1="@iiif/REQUEST_COMPLETE",e2="@iiif/REQUEST_OFFLINE_RESOURCE",e5=(0,ex.createAction)(eG)(),e4=(0,ex.createAction)(eJ)(),e9=(0,ex.createAction)(e0)(),e3=(0,ex.createAction)(e1)();(0,ex.createAction)(e2)();let e6="@iiif/BATCH",e8="@iiif/BATCH_IMPORT",e7=(0,ex.createAction)(e6)();(0,ex.createAction)(e8)();let te=(e,t)=>{let{entities:r,resource:n,mapping:i}=function(e){let t=e&&e["@context"]&&("http://iiif.io/api/presentation/2/context.json"===e["@context"]||-1!==e["@context"].indexOf("http://iiif.io/api/presentation/2/context.json")||"http://www.shared-canvas.org/ns/context.json"===e["@context"])||"http://iiif.io/api/image/2/context.json"===e["@context"]?ee.traverseUnknown(e):e,r={Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}},n={},i=(e,t)=>{let n=r[e]?r[e]:{};return r=>{let i=et(r,t||e);return i&&i.id&&e?(n[i.id]=n[i.id]?function(e,t){if("string"==typeof e)return e;if(t.id!==e.id||t.type!==e.type)throw Error("Can only merge entities with identical identifiers and type!");return function e(t,r){if(!r)return t;if(Array.isArray(t)){if(!Array.isArray(r))throw Error("Cannot merge array with non-array");let n=[...t];for(let i of r)if(null!=i){if(Array.isArray(i))n.push(i);else if("object"==typeof i&&i.id&&i.type){let t=n.findIndex(e=>e.id===i.id&&e.type===i.type);t>=0&&(n[t]=e(n[t],i))}else -1===t.indexOf(i)&&n.push(i)}return n}if("object"==typeof t){if(Array.isArray(r)||"object"!=typeof r)throw Error("Cannot merge object with non-object");let n={...t};for(let[t,i]of Object.entries(r)){let r=n[t];r!==a&&r?n[t]=e(r,i):n[t]=i}return n}return t||r}({...e},t)}(n[i.id],i):Object.assign({},i),{id:i.id,type:"ContentResource"===e?e:i.type}):i}},o=(e,t)=>r=>{let{id:i,type:o}=et(r,t||e);if(void 0===i)throw Error("Found invalid entity without an ID.");return"ContentResource"===e?n[i]=e:n[i]=o,r};return{entities:r,resource:new v({collection:[en(u),o("Collection"),i("Collection")],manifest:[en(c),o("Manifest"),i("Manifest")],canvas:[en(s),o("Canvas"),i("Canvas")],annotationPage:[er("AnnotationPage"),en(l),o("AnnotationPage"),i("AnnotationPage")],annotation:[er("Annotation"),eo,o("Annotation"),i("Annotation")],contentResource:[er("ContentResource"),o("ContentResource"),i("ContentResource")],range:[en(f),o("Range","Canvas"),i("Range","Canvas")],agent:[en(d),o("Agent"),i("Agent")]}).traverseUnknown(t),mapping:n}}(t);if(void 0===n.id)return[e4({id:e,message:"ID is not defined in resource."})];let o=[eW({entities:r}),eq({mapping:i})];return n.id!==e&&(o.push(eU({id:e,type:n.type})),o.push(e9({requestId:e,actualId:n.id}))),o.push(e3({id:e})),o},tt=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function tr(e,t){if(!Array.isArray(e)||!Array.isArray(t))return e===t;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){var r,n;if(!((r=e[i])===(n=t[i])||tt(r)&&tt(n)))return!1}return!0}function tn(e,t){let r=e.iiif.requests[t],n=e.iiif.mapping[t];if(n&&e.iiif.entities[n][r.resourceUri])return e.iiif.entities[n][r.resourceUri]}function ti(e,t,{waitTimeout:r=30}={}){return async(n,i)=>{let o=e.getState(),a=o.iiif.requests[n];if(a)switch(a.loadingState){case eX:break;case eQ:{let t;let i=!1;try{let o=await Promise.race([new Promise((r,o)=>{i||(t=e.subscribe(()=>{let t=e.getState();if(t.iiif.requests[n].loadingState===eX){o();return}if(t.iiif.requests[n].loadingState===eY){let e=tn(t,n);e?r(e):o()}}))}),new Promise((e,t)=>setTimeout(()=>{i=!0,t()},60*r))]);if(t&&t(),o)return o}catch(e){t&&t()}break}case eY:{let e=tn(o,n);if(e)return e}}e.dispatch(e5({id:n}));try{let r=await t(n,i);r.id||r["@id"]||(r["@type"]&&(r["@id"]=n),r.id=n);let o=te(n,r);return e.dispatch(e7({actions:o})),tn(e.getState(),n)}catch(t){throw e.dispatch(e4({id:n,message:t.toString()})),t}}}function to(){return{Collection:{},Manifest:{},Canvas:{},AnnotationPage:{},AnnotationCollection:{},Annotation:{},ContentResource:{},Range:{},Service:{},Selector:{},Agent:{}}}function ta(e,t,r,n){return!(!e[r]||!e[r][t]||!e[r][t][n]||!Array.isArray(e[r][t][n]))}let tl=ek({mapping:(e={},t)=>{switch(t.type){case eV:return{...e,[t.payload.id]:t.payload.type};case eB:return{...e,...t.payload.mapping};default:return e}},entities:(e=to(),t)=>{switch(t.type){case eL:{if(!e[t.payload.type]||!e[t.payload.type][t.payload.id])return e;let r=e[t.payload.type][t.payload.id];if("string"==typeof r)return e;return{...e,[t.payload.type]:{...e[t.payload.type],[t.payload.id]:{...r,[t.payload.key]:t.payload.value}}}}case ej:{if(!ta(e,t.payload.id,t.payload.type,t.payload.key))return e;let r=e[t.payload.type][t.payload.id];if("string"==typeof r)return e;let n=Array.from(r[t.payload.key]),[i]=n.splice(t.payload.startIndex,1);return n.splice(t.payload.endIndex,0,i),{...e,[t.payload.type]:{...e[t.payload.type],[t.payload.id]:{...r,[t.payload.key]:n}}}}case eD:{let r=Object.keys(t.payload.entities),n={...e};for(let i of r){let r=t.payload.entities[i],o={...e[i]||{}},a=!1,l=Object.keys(r||{})||[];if(r&&l){for(let t of l)a=!0,o[t]=e[i][t]?function(e,t){let r={},n=[];for(let[i,o]of Object.entries(e||{})){n.push(i);let e=(t||{})[i];if(!e||0===e.length){r[i]=o;continue}r[i]=e}for(let[e,i]of Object.entries(t||{}))-1===n.indexOf(e)&&(r[e]=i);return r}(e[i][t],r[t]):r[t];a&&(n[i]=o)}}return n}case e_:{if(!ta(e,t.payload.id,t.payload.type,t.payload.key))return e;let r=e[t.payload.type][t.payload.id],n=Array.from(r[t.payload.key]);return n.splice(t.payload.index||n.length+1,0,t.payload.reference),{...e,[t.payload.type]:{...e[t.payload.type],[t.payload.id]:{...r,[t.payload.key]:n}}}}case eF:{if(!ta(e,t.payload.id,t.payload.type,t.payload.key))return e;let r=e[t.payload.type][t.payload.id],n=Array.from(r[t.payload.key]),i=t.payload.index||n.findIndex(e=>e&&e.id===t.payload.reference.id);if(-1===i||n[i]?.id!==t.payload.reference.id)return e;return n.splice(i,1),{...e,[t.payload.type]:{...e[t.payload.type],[t.payload.id]:{...r,[t.payload.key]:n}}}}default:return e}},requests:(e={},t)=>{switch(t.type){case eG:case e2:return{...e,[t.payload.id]:{requestUri:t.payload.id,loadingState:eQ,uriMismatch:!1,resourceUri:t.payload.id}};case e0:return{...e,[t.payload.requestId]:{...e[t.payload.requestId]||{},uriMismatch:!0,resourceUri:t.payload.actualId},[t.payload.actualId]:{requestUri:t.payload.requestId,loadingState:e[t.payload.requestId].loadingState,uriMismatch:!0,resourceUri:t.payload.actualId}};case eJ:return{...e,[t.payload.id]:{...e[t.payload.id]||{},loadingState:eX,error:t.payload.message}};case e1:return{...e,[t.payload.id]:{...e[t.payload.id]||{},loadingState:eY,error:void 0}}}return e},meta:(e={},t)=>{let{id:r,updateValue:n,value:i,meta:o,key:a}=t&&t.payload||{};switch(t.type){case eH:return{...e,[r]:{...e[r]||{},[o]:{...e[r]&&e[r][o]||{},[a]:i}}};case ez:return{...e,[r]:{...e[r]||{},[o]:{...e[r]&&e[r][o]||{},[a]:n(e[r]&&e[r][o]?e[r][o][a]:void 0)}}};case eZ:if(e[r]&&e[r][o]&&e[r][o][a])return{...e,[r]:{...e[r]||{},[o]:{...e[r]&&e[r][o]||{},[a]:void 0}}};return e;default:return e}}}),ts="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||eI;class tu{options;store;emitter;isBatching=!1;batchQueue=[];remoteFetcher;staticFetcher;constructor(e,t){var r;this.options=Object.assign({reducers:{},middleware:[],defaultState:{},customFetcher:this.defaultFetcher,enableDevtools:!0},e||{}),this.store=t||function(e={}){var t;let{enableDevtools:r=!0,iiifStoreName:n="iiif",defaultState:i={},extraMiddleware:o=[],customReducers:a={}}=e;return function e(t,r,n){if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(eR(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw Error(eR(1));return n(e)(t,r)}if("function"!=typeof t)throw Error(eR(2));var i,o=t,a=r,l=[],s=l,u=!1;function c(){s===l&&(s=l.slice())}function f(){if(u)throw Error(eR(3));return a}function d(e){if("function"!=typeof e)throw Error(eR(4));if(u)throw Error(eR(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw Error(eR(6));t=!1,c();var r=s.indexOf(e);s.splice(r,1),l=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(eR(7));if(void 0===e.type)throw Error(eR(8));if(u)throw Error(eR(9));try{u=!0,a=o(a,e)}finally{u=!1}for(var t=l=s,r=0;r<t.length;r++)(0,t[r])();return e}return p({type:eP.INIT}),(i={dispatch:p,subscribe:d,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw Error(eR(10));o=e,p({type:eP.REPLACE})}})[eO]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(eR(11));function t(){e.next&&e.next(f())}return t(),{unsubscribe:d(t)}}})[eO]=function(){return this},e},i}((t=ek({[n]:tl,...a}),(e,r)=>r&&r.type===e6?r.payload.actions.reduce(t,e):r&&r.type===e8?r.payload.state:t(e,r)),i,r?ts(eM(...o)):eI(eM(...o)))}({customReducers:this.options.reducers,extraMiddleware:[...this.options.middleware,this.middleware],defaultState:this.options.defaultState,enableDevtools:this.options.enableDevtools}),this.emitter={all:r=r||new Map,on:function(e,t){var n=r.get(e);n?n.push(t):r.set(e,[t])},off:function(e,t){var n=r.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):r.set(e,[]))},emit:function(e,t){var n=r.get(e);n&&n.slice().map(function(e){e(t)}),(n=r.get("*"))&&n.slice().map(function(r){r(e,t)})}},this.remoteFetcher=ti(this.store,this.options.customFetcher),this.staticFetcher=ti(this.store,(e,t)=>t)}defaultFetcher=e=>fetch(e).then(e=>e.json());batch(e){this.isBatching=!0;try{e(this),this.store.dispatch(e7({actions:this.batchQueue}))}catch(e){throw this.batchQueue=[],this.isBatching=!1,e}this.batchQueue=[],this.isBatching=!1}async asyncBatch(e){this.isBatching=!0;try{await e(this),this.store.dispatch(e7({actions:this.batchQueue}))}catch(e){throw this.batchQueue=[],this.isBatching=!1,e}this.batchQueue=[],this.isBatching=!1}modifyEntityField(e,t,r){this.dispatch(e$.modifyEntityField({id:e.id,type:e.type,key:t,value:r}))}dispatch(e){this.isBatching?this.batchQueue.push(e):this.store.dispatch(e)}middleware=e=>t=>r=>{if(r.type===e6){for(let t of r.payload.actions)this.emitter.emit(t.type,{realAction:t,state:e.getState()});let n=t(r);for(let e of r.payload.actions)this.emitter.emit(`after:${r.type}`,{action:r,state:n});return n}this.emitter.emit(r.type,{action:r,state:e.getState()});let n=t(r);return this.emitter.emit(`after:${r.type}`,{action:r,state:n}),n};serialize(e,t){return function(e,t,r){if(!t.type||!t.id)throw Error("Unknown entity");if(!r[t.type])throw Error(`Serializer not found for ${t.type}`);return function n(i){let o=r[i.type];if(!o)return ea;let a=function(e,t){let r=e.requests[t],n=e.mapping[t];if(n&&(!r||!r.resourceUri||e.entities[n][r.resourceUri]))return e.entities[n][r?r.resourceUri:t]}(e,i.id)||(i.id&&i.type?i:null);if(!a)return ea;let l=o(a,e,{isTopLevel:t.id===i.id}),s=l.next();for(;!s.done;){let e=s.value,t=ea;if(e){if(Array.isArray(e)){let r=[];for(let t of e)r.push(n(t));t=r}else t=n(e)}s=l.next(t)}return s.value===ea?ea:function(e){let t={};for(let[r,n]of e){if(r===el&&n!==ea)return n;n!==ea&&null!=n&&(t[r]=n)}return t}(s.value)}(t)}(this.getState().iiif,e,t)}toPresentation2(e){return this.serialize(e,eh)}toPresentation3(e){return this.serialize(e,eE)}hydrate(e,t){return this.get(e,t,{skipSelfReturn:!1})}get(e,t,r={}){"string"!=typeof t&&(r=t||{},t=void 0);let{skipSelfReturn:n=!0}=r||{};if(Array.isArray(e))return e.map(e=>this.get(e,r));let i=this.getState();if("string"==typeof e){let r=t||i.iiif.mapping[e];if(!r)return n?null:{id:e,type:"unknown"};e={id:e,type:r}}let o=t||e.type,a=e.id,l=i.iiif.entities[o];if(!l){let t=i.iiif.requests[a];return t&&t.resourceUri!==a?this.get(t.resourceUri,r):n?null:e}return l[e.id]||(n?null:e)}select(e){return e(this.getState())}getStore(){return this.store}getState(){return this.store.getState()}loadManifest(e,t){let r="string"==typeof e?e:e.id;return this.load(r,t)}loadCollection(e,t){let r="string"==typeof e?e:e.id;return this.load(r,t)}load(e,t){let r="string"==typeof e?e:e.id;return t?this.staticFetcher(r,t):this.remoteFetcher(r)}areInputsEqual(e,t){return tr(e,t)}subscribe(e,t,r){void 0===r&&(void 0===t||!1===t||!0===t)&&(r=t,t=e,e=e=>e);let n=r?null:e(this.store.getState());return r||t(n,this),this.store.subscribe(()=>{let r=this.store.getState(),i=e(r);n===i||tr(n,i)||t(i,this),n=i})}async ensureLoaded(e){let t="string"==typeof e?e:e.id;this.requestStatus(t)||await this.load(t)}requestStatus(e){return this.select(t=>t.iiif.requests[e])}getResourceMeta(e,t){let r=this.getState().iiif.meta[e];return r?t?r[t]:r:void 0}setMetaValue([e,t,r],n){this.dispatch("function"==typeof n?eK.setMetaValueDynamic({id:e,meta:t,key:r,updateValue:n}):eK.setMetaValue({id:e,meta:t,key:r,value:n}))}}},425:function(e,t,r){"use strict";function n(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}r.d(t,{M:function(){return n}})},603:function(e,t,r){"use strict";r.d(t,{VY:function(){return R},fC:function(){return A},xz:function(){return S}});var n=r(7873),i=r(959),o=r(425),a=r(8053),l=r(6915),s=r(5428),u=r(525),c=r(9474),f=r(4830),d=r(5400);let p="Collapsible",[h,v]=(0,a.b)(p),[m,g]=h(p),y=(0,i.forwardRef)((e,t)=>{let{__scopeCollapsible:r,open:o,defaultOpen:a,disabled:s,onOpenChange:u,...f}=e,[p=!1,h]=(0,l.T)({prop:o,defaultProp:a,onChange:u});return(0,i.createElement)(m,{scope:r,disabled:s,contentId:(0,d.M)(),open:p,onOpenToggle:(0,i.useCallback)(()=>h(e=>!e),[h])},(0,i.createElement)(c.WV.div,(0,n.Z)({"data-state":C(p),"data-disabled":s?"":void 0},f,{ref:t})))}),b=(0,i.forwardRef)((e,t)=>{let{__scopeCollapsible:r,...a}=e,l=g("CollapsibleTrigger",r);return(0,i.createElement)(c.WV.button,(0,n.Z)({type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":C(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled},a,{ref:t,onClick:(0,o.M)(e.onClick,l.onOpenToggle)}))}),w="CollapsibleContent",E=(0,i.forwardRef)((e,t)=>{let{forceMount:r,...o}=e,a=g(w,e.__scopeCollapsible);return(0,i.createElement)(f.z,{present:r||a.open},({present:e})=>(0,i.createElement)(x,(0,n.Z)({},o,{ref:t,present:e})))}),x=(0,i.forwardRef)((e,t)=>{let{__scopeCollapsible:r,present:o,children:a,...l}=e,f=g(w,r),[d,p]=(0,i.useState)(o),h=(0,i.useRef)(null),v=(0,u.e)(t,h),m=(0,i.useRef)(0),y=m.current,b=(0,i.useRef)(0),E=b.current,x=f.open||d,A=(0,i.useRef)(x),S=(0,i.useRef)();return(0,i.useEffect)(()=>{let e=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.b)(()=>{let e=h.current;if(e){S.current=S.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();m.current=t.height,b.current=t.width,A.current||(e.style.transitionDuration=S.current.transitionDuration,e.style.animationName=S.current.animationName),p(o)}},[f.open,o]),(0,i.createElement)(c.WV.div,(0,n.Z)({"data-state":C(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!x},l,{ref:v,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...e.style}}),x&&a)});function C(e){return e?"open":"closed"}let A=y,S=b,R=E},6169:function(e,t,r){"use strict";r.d(t,{B:function(){return l}});var n=r(959),i=r(8053),o=r(525),a=r(4092);function l(e){let t=e+"CollectionProvider",[r,l]=(0,i.b)(t),[s,u]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=e+"CollectionSlot",f=n.forwardRef((e,t)=>{let{scope:r,children:i}=e,l=u(c,r),s=(0,o.e)(t,l.collectionRef);return n.createElement(a.g7,{ref:s},i)}),d=e+"CollectionItemSlot",p="data-radix-collection-item";return[{Provider:e=>{let{scope:t,children:r}=e,i=n.useRef(null),o=n.useRef(new Map).current;return n.createElement(s,{scope:t,itemMap:o,collectionRef:i},r)},Slot:f,ItemSlot:n.forwardRef((e,t)=>{let{scope:r,children:i,...l}=e,s=n.useRef(null),c=(0,o.e)(t,s),f=u(d,r);return n.useEffect(()=>(f.itemMap.set(s,{ref:s,...l}),()=>void f.itemMap.delete(s))),n.createElement(a.g7,{[p]:"",ref:c},i)})},function(t){let r=u(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${p}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},l]}},525:function(e,t,r){"use strict";r.d(t,{F:function(){return i},e:function(){return o}});var n=r(959);function i(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function o(...e){return(0,n.useCallback)(i(...e),e)}},8053:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(959);function i(e,t=[]){let r=[],i=()=>{let t=r.map(e=>(0,n.createContext)(e));return function(r){let i=(null==r?void 0:r[e])||t;return(0,n.useMemo)(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return i.scopeName=e,[function(t,i){let o=(0,n.createContext)(i),a=r.length;function l(t){let{scope:r,children:i,...l}=t,s=(null==r?void 0:r[e][a])||o,u=(0,n.useMemo)(()=>l,Object.values(l));return(0,n.createElement)(s.Provider,{value:u},i)}return r=[...r,i],l.displayName=t+"Provider",[l,function(r,l){let s=(null==l?void 0:l[e][a])||o,u=(0,n.useContext)(s);if(u)return u;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return(0,n.useMemo)(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(i,...t)]}},446:function(e,t,r){"use strict";r.d(t,{gm:function(){return o}});var n=r(959);let i=(0,n.createContext)(void 0);function o(e){let t=(0,n.useContext)(i);return e||t||"ltr"}},7978:function(e,t,r){"use strict";let n;r.d(t,{XB:function(){return d}});var i=r(7873),o=r(959),a=r(425),l=r(9474),s=r(525),u=r(1669);let c="dismissableLayer.update",f=(0,o.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),d=(0,o.forwardRef)((e,t)=>{var r;let{disableOutsidePointerEvents:d=!1,onEscapeKeyDown:v,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,onDismiss:b,...w}=e,E=(0,o.useContext)(f),[x,C]=(0,o.useState)(null),A=null!==(r=null==x?void 0:x.ownerDocument)&&void 0!==r?r:null==globalThis?void 0:globalThis.document,[,S]=(0,o.useState)({}),R=(0,s.e)(t,e=>C(e)),O=Array.from(E.layers),[T]=[...E.layersWithOutsidePointerEventsDisabled].slice(-1),P=O.indexOf(T),k=x?O.indexOf(x):-1,I=E.layersWithOutsidePointerEventsDisabled.size>0,M=k>=P,D=function(e,t=null==globalThis?void 0:globalThis.document){let r=(0,u.W)(e),n=(0,o.useRef)(!1),i=(0,o.useRef)(()=>{});return(0,o.useEffect)(()=>{let e=e=>{if(e.target&&!n.current){let n={originalEvent:e};function o(){h("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=o,t.addEventListener("click",i.current,{once:!0})):o()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...E.branches].some(e=>e.contains(t));!M||r||(null==m||m(e),null==y||y(e),e.defaultPrevented||null==b||b())},A),L=function(e,t=null==globalThis?void 0:globalThis.document){let r=(0,u.W)(e),n=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{let e=e=>{e.target&&!n.current&&h("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;[...E.branches].some(e=>e.contains(t))||(null==g||g(e),null==y||y(e),e.defaultPrevented||null==b||b())},A);return!function(e,t=null==globalThis?void 0:globalThis.document){let r=(0,u.W)(e);(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},[r,t])}(e=>{k!==E.layers.size-1||(null==v||v(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))},A),(0,o.useEffect)(()=>{if(x)return d&&(0===E.layersWithOutsidePointerEventsDisabled.size&&(n=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),E.layersWithOutsidePointerEventsDisabled.add(x)),E.layers.add(x),p(),()=>{d&&1===E.layersWithOutsidePointerEventsDisabled.size&&(A.body.style.pointerEvents=n)}},[x,A,d,E]),(0,o.useEffect)(()=>()=>{x&&(E.layers.delete(x),E.layersWithOutsidePointerEventsDisabled.delete(x),p())},[x,E]),(0,o.useEffect)(()=>{let e=()=>S({});return document.addEventListener(c,e),()=>document.removeEventListener(c,e)},[]),(0,o.createElement)(l.WV.div,(0,i.Z)({},w,{ref:R,style:{pointerEvents:I?M?"auto":"none":void 0,...e.style},onFocusCapture:(0,a.M)(e.onFocusCapture,L.onFocusCapture),onBlurCapture:(0,a.M)(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:(0,a.M)(e.onPointerDownCapture,D.onPointerDownCapture)}))});function p(){let e=new CustomEvent(c);document.dispatchEvent(e)}function h(e,t,r,{discrete:n}){let i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,l.jH)(i,o):i.dispatchEvent(o)}},2623:function(e,t,r){"use strict";r.d(t,{EW:function(){return o}});var n=r(959);let i=0;function o(){(0,n.useEffect)(()=>{var e,t;let r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=r[0])&&void 0!==e?e:a()),document.body.insertAdjacentElement("beforeend",null!==(t=r[1])&&void 0!==t?t:a()),i++,()=>{1===i&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),i--}},[])}function a(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}},4480:function(e,t,r){"use strict";let n;r.d(t,{M:function(){return d}});var i=r(7873),o=r(959),a=r(525),l=r(9474),s=r(1669);let u="focusScope.autoFocusOnMount",c="focusScope.autoFocusOnUnmount",f={bubbles:!1,cancelable:!0},d=(0,o.forwardRef)((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:d,onUnmountAutoFocus:g,...y}=e,[b,w]=(0,o.useState)(null),E=(0,s.W)(d),x=(0,s.W)(g),C=(0,o.useRef)(null),A=(0,a.e)(t,e=>w(e)),S=(0,o.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,o.useEffect)(()=>{if(n){function e(e){if(S.paused||!b)return;let t=e.target;b.contains(t)?C.current=t:v(C.current,{select:!0})}function t(e){if(S.paused||!b)return;let t=e.relatedTarget;null===t||b.contains(t)||v(C.current,{select:!0})}document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&v(b)});return b&&r.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,b,S.paused]),(0,o.useEffect)(()=>{if(b){m.add(S);let e=document.activeElement;if(!b.contains(e)){let t=new CustomEvent(u,f);b.addEventListener(u,E),b.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(v(n,{select:t}),document.activeElement!==r)return}(p(b).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&v(b))}return()=>{b.removeEventListener(u,E),setTimeout(()=>{let t=new CustomEvent(c,f);b.addEventListener(c,x),b.dispatchEvent(t),t.defaultPrevented||v(null!=e?e:document.body,{select:!0}),b.removeEventListener(c,x),m.remove(S)},0)}}},[b,E,x,S]);let R=(0,o.useCallback)(e=>{if(!r&&!n||S.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){let t=e.currentTarget,[n,o]=function(e){let t=p(e);return[h(t,e),h(t.reverse(),e)]}(t);n&&o?e.shiftKey||i!==o?e.shiftKey&&i===n&&(e.preventDefault(),r&&v(o,{select:!0})):(e.preventDefault(),r&&v(n,{select:!0})):i===t&&e.preventDefault()}},[r,n,S.paused]);return(0,o.createElement)(l.WV.div,(0,i.Z)({tabIndex:-1},y,{ref:A,onKeyDown:R}))});function p(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function h(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function v(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}let m=(n=[],{add(e){let t=n[0];e!==t&&(null==t||t.pause()),(n=g(n,e)).unshift(e)},remove(e){var t;null===(t=(n=g(n,e))[0])||void 0===t||t.resume()}});function g(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}},5400:function(e,t,r){"use strict";r.d(t,{M:function(){return s}});var n,i=r(959),o=r(5428);let a=(n||(n=r.t(i,2)))["useId".toString()]||(()=>void 0),l=0;function s(e){let[t,r]=i.useState(a());return(0,o.b)(()=>{e||r(e=>null!=e?e:String(l++))},[e]),e||(t?`radix-${t}`:"")}},2338:function(e,t,r){"use strict";r.d(t,{Eh:function(){return $},VY:function(){return W},fC:function(){return _},x8:function(){return N},xz:function(){return F}});var n=r(7873),i=r(959),o=r(425),a=r(525),l=r(8053),s=r(7978),u=r(2623),c=r(4480),f=r(5400),d=r(2877),p=(r(6623),r(4830)),h=r(9474),v=r(4092),m=r(6915),g=r(9343),y=r(9902);let b="Popover",[w,E]=(0,l.b)(b,[d.D7]),x=(0,d.D7)(),[C,A]=w(b),S=(0,i.forwardRef)((e,t)=>{let{__scopePopover:r,...l}=e,s=A("PopoverTrigger",r),u=x(r),c=(0,a.e)(t,s.triggerRef),f=(0,i.createElement)(h.WV.button,(0,n.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":j(s.open)},l,{ref:c,onClick:(0,o.M)(e.onClick,s.onOpenToggle)}));return s.hasCustomAnchor?f:(0,i.createElement)(d.ee,(0,n.Z)({asChild:!0},u),f)}),[R,O]=w("PopoverPortal",{forceMount:void 0}),T="PopoverContent",P=(0,i.forwardRef)((e,t)=>{let r=O(T,e.__scopePopover),{forceMount:o=r.forceMount,...a}=e,l=A(T,e.__scopePopover);return(0,i.createElement)(p.z,{present:o||l.open},l.modal?(0,i.createElement)(k,(0,n.Z)({},a,{ref:t})):(0,i.createElement)(I,(0,n.Z)({},a,{ref:t})))}),k=(0,i.forwardRef)((e,t)=>{let r=A(T,e.__scopePopover),l=(0,i.useRef)(null),s=(0,a.e)(t,l),u=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{let e=l.current;if(e)return(0,g.Ry)(e)},[]),(0,i.createElement)(y.Z,{as:v.g7,allowPinchZoom:!0},(0,i.createElement)(M,(0,n.Z)({},e,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),u.current||null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,o.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;u.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:(0,o.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})))}),I=(0,i.forwardRef)((e,t)=>{let r=A(T,e.__scopePopover),o=(0,i.useRef)(!1),a=(0,i.useRef)(!1);return(0,i.createElement)(M,(0,n.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,i;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented||(o.current||null===(i=r.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:t=>{var n,i;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"!==t.detail.originalEvent.type||(a.current=!0));let l=t.target;(null===(i=r.triggerRef.current)||void 0===i?void 0:i.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}}))}),M=(0,i.forwardRef)((e,t)=>{let{__scopePopover:r,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:f,onEscapeKeyDown:p,onPointerDownOutside:h,onFocusOutside:v,onInteractOutside:m,...g}=e,y=A(T,r),b=x(r);return(0,u.EW)(),(0,i.createElement)(c.M,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l},(0,i.createElement)(s.XB,{asChild:!0,disableOutsidePointerEvents:f,onInteractOutside:m,onEscapeKeyDown:p,onPointerDownOutside:h,onFocusOutside:v,onDismiss:()=>y.onOpenChange(!1)},(0,i.createElement)(d.VY,(0,n.Z)({"data-state":j(y.open),role:"dialog",id:y.contentId},b,g,{ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}),D=(0,i.forwardRef)((e,t)=>{let{__scopePopover:r,...a}=e,l=A("PopoverClose",r);return(0,i.createElement)(h.WV.button,(0,n.Z)({type:"button"},a,{ref:t,onClick:(0,o.M)(e.onClick,()=>l.onOpenChange(!1))}))}),L=(0,i.forwardRef)((e,t)=>{let{__scopePopover:r,...o}=e,a=x(r);return(0,i.createElement)(d.Eh,(0,n.Z)({},a,o,{ref:t}))});function j(e){return e?"open":"closed"}let _=e=>{let{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:l=!1}=e,s=x(t),u=(0,i.useRef)(null),[c,p]=(0,i.useState)(!1),[h=!1,v]=(0,m.T)({prop:n,defaultProp:o,onChange:a});return(0,i.createElement)(d.fC,s,(0,i.createElement)(C,{scope:t,contentId:(0,f.M)(),triggerRef:u,open:h,onOpenChange:v,onOpenToggle:(0,i.useCallback)(()=>v(e=>!e),[v]),hasCustomAnchor:c,onCustomAnchorAdd:(0,i.useCallback)(()=>p(!0),[]),onCustomAnchorRemove:(0,i.useCallback)(()=>p(!1),[]),modal:l},r))},F=S,W=P,N=D,$=L},2877:function(e,t,r){"use strict";r.d(t,{ee:function(){return eF},Eh:function(){return eN},VY:function(){return eW},fC:function(){return e_},D7:function(){return eC}});var n=r(7873),i=r(959);let o=["top","right","bottom","left"],a=Math.min,l=Math.max,s=Math.round,u=Math.floor,c=e=>({x:e,y:e}),f={left:"right",right:"left",bottom:"top",top:"bottom"},d={start:"end",end:"start"};function p(e,t){return"function"==typeof e?e(t):e}function h(e){return e.split("-")[0]}function v(e){return e.split("-")[1]}function m(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function y(e){return["top","bottom"].includes(h(e))?"y":"x"}function b(e){return e.replace(/start|end/g,e=>d[e])}function w(e){return e.replace(/left|right|bottom|top/g,e=>f[e])}function E(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function x(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function C(e,t,r){let n,{reference:i,floating:o}=e,a=y(t),l=m(y(t)),s=g(l),u=h(t),c="y"===a,f=i.x+i.width/2-o.width/2,d=i.y+i.height/2-o.height/2,p=i[s]/2-o[s]/2;switch(u){case"top":n={x:f,y:i.y-o.height};break;case"bottom":n={x:f,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:d};break;case"left":n={x:i.x-o.width,y:d};break;default:n={x:i.x,y:i.y}}switch(v(t)){case"start":n[l]-=p*(r&&c?-1:1);break;case"end":n[l]+=p*(r&&c?-1:1)}return n}let A=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),s=await (null==a.isRTL?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=C(u,n,s),d=n,p={},h=0;for(let r=0;r<l.length;r++){let{name:o,fn:v}=l[r],{x:m,y:g,data:y,reset:b}=await v({x:c,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});c=null!=m?m:c,f=null!=g?g:f,p={...p,[o]:{...p[o],...y}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:c,y:f}=C(u,d,s)),r=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:p}};async function S(e,t){var r;void 0===t&&(t={});let{x:n,y:i,platform:o,rects:a,elements:l,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=p(t,e),v=E(h),m=l[d?"floating"===f?"reference":"floating":f],g=x(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(m)))||r?m:m.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:s})),y="floating"===f?{...a.floating,x:n,y:i}:a.reference,b=await (null==o.getOffsetParent?void 0:o.getOffsetParent(l.floating)),w=await (null==o.isElement?void 0:o.isElement(b))&&await (null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},C=x(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:s}):y);return{top:(g.top-C.top+v.top)/w.y,bottom:(C.bottom-g.bottom+v.bottom)/w.y,left:(g.left-C.left+v.left)/w.x,right:(C.right-g.right+v.right)/w.x}}function R(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function O(e){return o.some(t=>e[t]>=0)}async function T(e,t){let{placement:r,platform:n,elements:i}=e,o=await (null==n.isRTL?void 0:n.isRTL(i.floating)),a=h(r),l=v(r),s="y"===y(r),u=["left","top"].includes(a)?-1:1,c=o&&s?-1:1,f=p(t,e),{mainAxis:d,crossAxis:m,alignmentAxis:g}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&"number"==typeof g&&(m="end"===l?-1*g:g),s?{x:m*c,y:d*u}:{x:d*u,y:m*c}}function P(e){return M(e)?(e.nodeName||"").toLowerCase():"#document"}function k(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function I(e){var t;return null==(t=(M(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function M(e){return e instanceof Node||e instanceof k(e).Node}function D(e){return e instanceof Element||e instanceof k(e).Element}function L(e){return e instanceof HTMLElement||e instanceof k(e).HTMLElement}function j(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof k(e).ShadowRoot)}function _(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=V(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function F(e){let t=N(),r=V(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function W(e){let t=U(e);for(;L(t)&&!$(t);){if(F(t))return t;t=U(t)}return null}function N(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function $(e){return["html","body","#document"].includes(P(e))}function V(e){return k(e).getComputedStyle(e)}function B(e){return D(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function U(e){if("html"===P(e))return e;let t=e.assignedSlot||e.parentNode||j(e)&&e.host||I(e);return j(t)?t.host:t}function q(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=function e(t){let r=U(t);return $(r)?t.ownerDocument?t.ownerDocument.body:t.body:L(r)&&_(r)?r:e(r)}(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),a=k(i);return o?t.concat(a,a.visualViewport||[],_(i)?i:[],a.frameElement&&r?q(a.frameElement):[]):t.concat(i,q(i,[],r))}function H(e){let t=V(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=L(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,l=s(r)!==o||s(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function z(e){return D(e)?e:e.contextElement}function Z(e){let t=z(e);if(!L(t))return c(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:o}=H(t),a=(o?s(r.width):r.width)/n,l=(o?s(r.height):r.height)/i;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}let K=c(0);function X(e){let t=k(e);return N()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:K}function Q(e,t,r,n){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let o=e.getBoundingClientRect(),a=z(e),l=c(1);t&&(n?D(n)&&(l=Z(n)):l=Z(e));let s=(void 0===(i=r)&&(i=!1),n&&(!i||n===k(a))&&i)?X(a):c(0),u=(o.left+s.x)/l.x,f=(o.top+s.y)/l.y,d=o.width/l.x,p=o.height/l.y;if(a){let e=k(a),t=n&&D(n)?k(n):n,r=e.frameElement;for(;r&&n&&t!==e;){let e=Z(r),t=r.getBoundingClientRect(),n=V(r),i=t.left+(r.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(r.clientTop+parseFloat(n.paddingTop))*e.y;u*=e.x,f*=e.y,d*=e.x,p*=e.y,u+=i,f+=o,r=k(r).frameElement}}return x({width:d,height:p,x:u,y:f})}let Y=[":popover-open",":modal"];function G(e){let t=!1,r=0,n=0;if(Y.forEach(r=>{!function(r){try{t=t||e.matches(r)}catch(e){}}(r)}),t){let t=W(e);if(t){let e=t.getBoundingClientRect();r=e.x,n=e.y}}return[t,r,n]}function J(e){return Q(I(e)).left+B(e).scrollLeft}function ee(e,t,r){let n;if("viewport"===t)n=function(e,t){let r=k(e),n=I(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,l=0,s=0;if(i){o=i.width,a=i.height;let e=N();(!e||e&&"fixed"===t)&&(l=i.offsetLeft,s=i.offsetTop)}return{width:o,height:a,x:l,y:s}}(e,r);else if("document"===t)n=function(e){let t=I(e),r=B(e),n=e.ownerDocument.body,i=l(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=l(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+J(e),s=-r.scrollTop;return"rtl"===V(n).direction&&(a+=l(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}(I(e));else if(D(t))n=function(e,t){let r=Q(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=L(e)?Z(e):c(1),a=e.clientWidth*o.x;return{width:a,height:e.clientHeight*o.y,x:i*o.x,y:n*o.y}}(t,r);else{let r=X(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return x(n)}function et(e,t){return L(e)&&"fixed"!==V(e).position?t?t(e):e.offsetParent:null}function er(e,t){let r=k(e);if(!L(e))return r;let n=et(e,t);for(;n&&["table","td","th"].includes(P(n))&&"static"===V(n).position;)n=et(n,t);return n&&("html"===P(n)||"body"===P(n)&&"static"===V(n).position&&!F(n))?r:n||W(e)||r}let en=async function(e){let t=this.getOffsetParent||er,r=this.getDimensions;return{reference:function(e,t,r,n){let i=L(t),o=I(t),a="fixed"===r,l=Q(e,!0,a,t),s={scrollLeft:0,scrollTop:0},u=c(0);if(i||!i&&!a){if(("body"!==P(t)||_(o))&&(s=B(t)),i){let e=Q(t,!0,a,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else o&&(u.x=J(o))}let f=l.left+s.scrollLeft-u.x,d=l.top+s.scrollTop-u.y,[p,h,v]=G(n);return p&&(f+=h,d+=v,i&&(f+=t.clientLeft,d+=t.clientTop)),{x:f,y:d,width:l.width,height:l.height}}(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await r(e.floating)}}},ei={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,o=I(n),[a]=t?G(t.floating):[!1];if(n===o||a)return r;let l={scrollLeft:0,scrollTop:0},s=c(1),u=c(0),f=L(n);if((f||!f&&"fixed"!==i)&&(("body"!==P(n)||_(o))&&(l=B(n)),L(n))){let e=Q(n);s=Z(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}return{width:r.width*s.x,height:r.height*s.y,x:r.x*s.x-l.scrollLeft*s.x+u.x,y:r.y*s.y-l.scrollTop*s.y+u.y}},getDocumentElement:I,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,o=[..."clippingAncestors"===r?function(e,t){let r=t.get(e);if(r)return r;let n=q(e,[],!1).filter(e=>D(e)&&"body"!==P(e)),i=null,o="fixed"===V(e).position,a=o?U(e):e;for(;D(a)&&!$(a);){let t=V(a),r=F(a);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||_(a)&&!r&&function e(t,r){let n=U(t);return!(n===r||!D(n)||$(n))&&("fixed"===V(n).position||e(n,r))}(e,a))?n=n.filter(e=>e!==a):i=t,a=U(a)}return t.set(e,n),n}(t,this._c):[].concat(r),n],s=o[0],u=o.reduce((e,r)=>{let n=ee(t,r,i);return e.top=l(n.top,e.top),e.right=a(n.right,e.right),e.bottom=a(n.bottom,e.bottom),e.left=l(n.left,e.left),e},ee(t,s,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:er,getElementRects:en,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=H(e);return{width:t,height:r}},getScale:Z,isElement:D,isRTL:function(e){return"rtl"===V(e).direction}},eo=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:i,rects:o,platform:s,elements:u,middlewareData:c}=t,{element:f,padding:d=0}=p(e,t)||{};if(null==f)return{};let h=E(d),b={x:r,y:n},w=m(y(i)),x=g(w),C=await s.getDimensions(f),A="y"===w,S=A?"clientHeight":"clientWidth",R=o.reference[x]+o.reference[w]-b[w]-o.floating[x],O=b[w]-o.reference[w],T=await (null==s.getOffsetParent?void 0:s.getOffsetParent(f)),P=T?T[S]:0;P&&await (null==s.isElement?void 0:s.isElement(T))||(P=u.floating[S]||o.floating[x]);let k=P/2-C[x]/2-1,I=a(h[A?"top":"left"],k),M=a(h[A?"bottom":"right"],k),D=P-C[x]-M,L=P/2-C[x]/2+(R/2-O/2),j=l(I,a(L,D)),_=!c.arrow&&null!=v(i)&&L!==j&&o.reference[x]/2-(L<I?I:M)-C[x]/2<0,F=_?L<I?L-I:L-D:0;return{[w]:b[w]+F,data:{[w]:j,centerOffset:L-j-F,..._&&{alignmentOffset:F}},reset:_}}}),ea=(e,t,r)=>{let n=new Map,i={platform:ei,...r},o={...i.platform,_c:n};return A(e,t,{...i,platform:o})};var el=r(422);let es=e=>({name:"arrow",options:e,fn(t){let{element:r,padding:n}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?eo({element:r.current,padding:n}).fn(t):{}:r?eo({element:r,padding:n}).fn(t):{}}});var eu="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function ec(e,t){let r,n,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!ec(e[n],t[n]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(("_owner"!==r||!e.$$typeof)&&!ec(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function ef(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ed(e,t){let r=ef(e);return Math.round(t*r)/r}function ep(e){let t=i.useRef(e);return eu(()=>{t.current=e}),t}var eh=r(9474);let ev=(0,i.forwardRef)((e,t)=>{let{children:r,width:o=10,height:a=5,...l}=e;return(0,i.createElement)(eh.WV.svg,(0,n.Z)({},l,{ref:t,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?r:(0,i.createElement)("polygon",{points:"0,0 30,0 15,10"}))});var em=r(525),eg=r(8053),ey=r(1669),eb=r(5428),ew=r(8488);let eE="Popper",[ex,eC]=(0,eg.b)(eE),[eA,eS]=ex(eE),eR=(0,i.forwardRef)((e,t)=>{let{__scopePopper:r,virtualRef:o,...a}=e,l=eS("PopperAnchor",r),s=(0,i.useRef)(null),u=(0,em.e)(t,s);return(0,i.useEffect)(()=>{l.onAnchorChange((null==o?void 0:o.current)||s.current)}),o?null:(0,i.createElement)(eh.WV.div,(0,n.Z)({},a,{ref:u}))}),eO="PopperContent",[eT,eP]=ex(eO),ek=(0,i.forwardRef)((e,t)=>{var r,o,s,c,f,d,E,x,C,A,P,k,M,D;let{__scopePopper:L,side:j="bottom",sideOffset:_=0,align:F="center",alignOffset:W=0,arrowPadding:N=0,avoidCollisions:$=!0,collisionBoundary:V=[],collisionPadding:B=0,sticky:U="partial",hideWhenDetached:H=!1,updatePositionStrategy:Z="optimized",onPlaced:K,...X}=e,Y=eS(eO,L),[G,J]=(0,i.useState)(null),ee=(0,em.e)(t,e=>J(e)),[et,er]=(0,i.useState)(null),en=(0,ew.t)(et),ei=null!==(r=null==en?void 0:en.width)&&void 0!==r?r:0,eo=null!==(o=null==en?void 0:en.height)&&void 0!==o?o:0,ev="number"==typeof B?B:{top:0,right:0,bottom:0,left:0,...B},eg=Array.isArray(V)?V:[V],eE=eg.length>0,ex={padding:ev,boundary:eg.filter(eD),altBoundary:eE},{refs:eC,floatingStyles:eA,placement:eR,isPositioned:eP,middlewareData:ek}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:l}={},transform:s=!0,whileElementsMounted:u,open:c}=e,[f,d]=i.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=i.useState(n);ec(p,n)||h(n);let[v,m]=i.useState(null),[g,y]=i.useState(null),b=i.useCallback(e=>{e!==C.current&&(C.current=e,m(e))},[]),w=i.useCallback(e=>{e!==A.current&&(A.current=e,y(e))},[]),E=a||v,x=l||g,C=i.useRef(null),A=i.useRef(null),S=i.useRef(f),R=null!=u,O=ep(u),T=ep(o),P=i.useCallback(()=>{if(!C.current||!A.current)return;let e={placement:t,strategy:r,middleware:p};T.current&&(e.platform=T.current),ea(C.current,A.current,e).then(e=>{let t={...e,isPositioned:!0};k.current&&!ec(S.current,t)&&(S.current=t,el.flushSync(()=>{d(t)}))})},[p,t,r,T]);eu(()=>{!1===c&&S.current.isPositioned&&(S.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[c]);let k=i.useRef(!1);eu(()=>(k.current=!0,()=>{k.current=!1}),[]),eu(()=>{if(E&&(C.current=E),x&&(A.current=x),E&&x){if(O.current)return O.current(E,x,P);P()}},[E,x,P,O,R]);let I=i.useMemo(()=>({reference:C,floating:A,setReference:b,setFloating:w}),[b,w]),M=i.useMemo(()=>({reference:E,floating:x}),[E,x]),D=i.useMemo(()=>{let e={position:r,left:0,top:0};if(!M.floating)return e;let t=ed(M.floating,f.x),n=ed(M.floating,f.y);return s?{...e,transform:"translate("+t+"px, "+n+"px)",...ef(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,s,M.floating,f.x,f.y]);return i.useMemo(()=>({...f,update:P,refs:I,elements:M,floatingStyles:D}),[f,P,I,M,D])}({strategy:"fixed",placement:j+("center"!==F?"-"+F:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let i;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:f="function"==typeof IntersectionObserver,animationFrame:d=!1}=n,p=z(e),h=o||s?[...p?q(p):[],...q(t)]:[];h.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});let v=p&&f?function(e,t){let r,n=null,i=I(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function s(c,f){void 0===c&&(c=!1),void 0===f&&(f=1),o();let{left:d,top:p,width:h,height:v}=e.getBoundingClientRect();if(c||t(),!h||!v)return;let m=u(p),g=u(i.clientWidth-(d+h)),y={rootMargin:-m+"px "+-g+"px "+-u(i.clientHeight-(p+v))+"px "+-u(d)+"px",threshold:l(0,a(1,f))||1},b=!0;function w(e){let t=e[0].intersectionRatio;if(t!==f){if(!b)return s();t?s(!1,t):r=setTimeout(()=>{s(!1,1e-7)},100)}b=!1}try{n=new IntersectionObserver(w,{...y,root:i.ownerDocument})}catch(e){n=new IntersectionObserver(w,y)}n.observe(e)}(!0),o}(p,r):null,m=-1,g=null;c&&(g=new ResizeObserver(e=>{let[n]=e;n&&n.target===p&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),r()}),p&&!d&&g.observe(p),g.observe(t));let y=d?Q(e):null;return d&&function t(){let n=Q(e);y&&(n.x!==y.x||n.y!==y.y||n.width!==y.width||n.height!==y.height)&&r(),y=n,i=requestAnimationFrame(t)}(),r(),()=>{var e;h.forEach(e=>{o&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==v||v(),null==(e=g)||e.disconnect(),g=null,d&&cancelAnimationFrame(i)}})(...e,{animationFrame:"always"===Z}),elements:{reference:Y.anchor},middleware:[{name:"offset",options:C={mainAxis:_+eo,alignmentAxis:W},async fn(e){var t,r;let{x:n,y:i,placement:o,middlewareData:a}=e,l=await T(e,C);return o===(null==(t=a.offset)?void 0:t.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:n+l.x,y:i+l.y,data:{...l,placement:o}}}},$&&{name:"shift",options:P={mainAxis:!0,crossAxis:!1,limiter:"partial"===U?(void 0===A&&(A={}),{options:A,fn(e){let{x:t,y:r,placement:n,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:s=!0}=p(A,e),u={x:t,y:r},c=y(n),f=m(c),d=u[f],v=u[c],g=p(a,e),b="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){let e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+b.mainAxis,r=i.reference[f]+i.reference[e]-b.mainAxis;d<t?d=t:d>r&&(d=r)}if(s){var w,E;let e="y"===f?"width":"height",t=["top","left"].includes(h(n)),r=i.reference[c]-i.floating[e]+(t&&(null==(w=o.offset)?void 0:w[c])||0)+(t?0:b.crossAxis),a=i.reference[c]+i.reference[e]+(t?0:(null==(E=o.offset)?void 0:E[c])||0)-(t?b.crossAxis:0);v<r?v=r:v>a&&(v=a)}return{[f]:d,[c]:v}}}):void 0,...ex},async fn(e){let{x:t,y:r,placement:n}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...u}=p(P,e),c={x:t,y:r},f=await S(e,u),d=y(h(n)),v=m(d),g=c[v],b=c[d];if(i){let e="y"===v?"top":"left",t="y"===v?"bottom":"right",r=g+f[e],n=g-f[t];g=l(r,a(g,n))}if(o){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=b+f[e],n=b-f[t];b=l(r,a(b,n))}let w=s.fn({...e,[v]:g,[d]:b});return{...w,data:{x:w.x-t,y:w.y-r}}}},$&&{name:"flip",options:k={...ex},async fn(e){var t,r,n,i,o;let{placement:a,middlewareData:l,rects:s,initialPlacement:u,platform:c,elements:f}=e,{mainAxis:d=!0,crossAxis:E=!0,fallbackPlacements:x,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:R=!0,...O}=p(k,e);if(null!=(t=l.arrow)&&t.alignmentOffset)return{};let T=h(a),P=h(u)===u,I=await (null==c.isRTL?void 0:c.isRTL(f.floating)),M=x||(P||!R?[w(u)]:function(e){let t=w(e);return[b(e),t,b(t)]}(u));x||"none"===A||M.push(...function(e,t,r,n){let i=v(e),o=function(e,t,r){let n=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":if(r)return t?i:n;return t?n:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(h(e),"start"===r,n);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(b)))),o}(u,R,A,I));let D=[u,...M],L=await S(e,O),j=[],_=(null==(r=l.flip)?void 0:r.overflows)||[];if(d&&j.push(L[T]),E){let e=function(e,t,r){void 0===r&&(r=!1);let n=v(e),i=m(y(e)),o=g(i),a="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=w(a)),[a,w(a)]}(a,s,I);j.push(L[e[0]],L[e[1]])}if(_=[..._,{placement:a,overflows:j}],!j.every(e=>e<=0)){let e=((null==(n=l.flip)?void 0:n.index)||0)+1,t=D[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let r=null==(i=_.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:i.placement;if(!r)switch(C){case"bestFit":{let e=null==(o=_.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:o[0];e&&(r=e);break}case"initialPlacement":r=u}if(a!==r)return{reset:{placement:r}}}return{}}},{name:"size",options:M={...ex,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:i,height:o}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${r}px`),a.setProperty("--radix-popper-available-height",`${n}px`),a.setProperty("--radix-popper-anchor-width",`${i}px`),a.setProperty("--radix-popper-anchor-height",`${o}px`)}},async fn(e){let t,r;let{placement:n,rects:i,platform:o,elements:s}=e,{apply:u=()=>{},...c}=p(M,e),f=await S(e,c),d=h(n),m=v(n),g="y"===y(n),{width:b,height:w}=i.floating;"top"===d||"bottom"===d?(t=d,r=m===(await (null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(r=d,t="end"===m?"top":"bottom");let E=w-f[t],x=b-f[r],C=!e.middlewareData.shift,A=E,R=x;if(g){let e=b-f.left-f.right;R=m||C?a(x,e):e}else{let e=w-f.top-f.bottom;A=m||C?a(E,e):e}if(C&&!m){let e=l(f.left,0),t=l(f.right,0),r=l(f.top,0),n=l(f.bottom,0);g?R=b-2*(0!==e||0!==t?e+t:l(f.left,f.right)):A=w-2*(0!==r||0!==n?r+n:l(f.top,f.bottom))}await u({...e,availableWidth:R,availableHeight:A});let O=await o.getDimensions(s.floating);return b!==O.width||w!==O.height?{reset:{rects:!0}}:{}}},et&&es({element:et,padding:N}),eL({arrowWidth:ei,arrowHeight:eo}),H&&{name:"hide",options:D={strategy:"referenceHidden",...ex},async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...n}=p(D,e);switch(r){case"referenceHidden":{let r=R(await S(e,{...n,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:O(r)}}}case"escaped":{let r=R(await S(e,{...n,altBoundary:!0}),t.floating);return{data:{escapedOffsets:r,escaped:O(r)}}}default:return{}}}}]}),[eI,eM]=ej(eR),e_=(0,ey.W)(K);(0,eb.b)(()=>{eP&&(null==e_||e_())},[eP,e_]);let eF=null===(s=ek.arrow)||void 0===s?void 0:s.x,eW=null===(c=ek.arrow)||void 0===c?void 0:c.y,eN=(null===(f=ek.arrow)||void 0===f?void 0:f.centerOffset)!==0,[e$,eV]=(0,i.useState)();return(0,eb.b)(()=>{G&&eV(window.getComputedStyle(G).zIndex)},[G]),(0,i.createElement)("div",{ref:eC.setFloating,"data-radix-popper-content-wrapper":"",style:{...eA,transform:eP?eA.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:e$,"--radix-popper-transform-origin":[null===(d=ek.transformOrigin)||void 0===d?void 0:d.x,null===(E=ek.transformOrigin)||void 0===E?void 0:E.y].join(" ")},dir:e.dir},(0,i.createElement)(eT,{scope:L,placedSide:eI,onArrowChange:er,arrowX:eF,arrowY:eW,shouldHideArrow:eN},(0,i.createElement)(eh.WV.div,(0,n.Z)({"data-side":eI,"data-align":eM},X,{ref:ee,style:{...X.style,animation:eP?void 0:"none",opacity:null!==(x=ek.hide)&&void 0!==x&&x.referenceHidden?0:void 0}}))))}),eI={top:"bottom",right:"left",bottom:"top",left:"right"},eM=(0,i.forwardRef)(function(e,t){let{__scopePopper:r,...o}=e,a=eP("PopperArrow",r),l=eI[a.placedSide];return(0,i.createElement)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0}},(0,i.createElement)(ev,(0,n.Z)({},o,{ref:t,style:{...o.style,display:"block"}})))});function eD(e){return null!==e}let eL=e=>({name:"transformOrigin",options:e,fn(t){var r,n,i,o,a;let{placement:l,rects:s,middlewareData:u}=t,c=(null===(r=u.arrow)||void 0===r?void 0:r.centerOffset)!==0,f=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[p,h]=ej(l),v={start:"0%",center:"50%",end:"100%"}[h],m=(null!==(n=null===(i=u.arrow)||void 0===i?void 0:i.x)&&void 0!==n?n:0)+f/2,g=(null!==(o=null===(a=u.arrow)||void 0===a?void 0:a.y)&&void 0!==o?o:0)+d/2,y="",b="";return"bottom"===p?(y=c?v:`${m}px`,b=`${-d}px`):"top"===p?(y=c?v:`${m}px`,b=`${s.floating.height+d}px`):"right"===p?(y=`${-d}px`,b=c?v:`${g}px`):"left"===p&&(y=`${s.floating.width+d}px`,b=c?v:`${g}px`),{data:{x:y,y:b}}}});function ej(e){let[t,r="center"]=e.split("-");return[t,r]}let e_=e=>{let{__scopePopper:t,children:r}=e,[n,o]=(0,i.useState)(null);return(0,i.createElement)(eA,{scope:t,anchor:n,onAnchorChange:o},r)},eF=eR,eW=ek,eN=eM},6623:function(e,t,r){"use strict";r.d(t,{h:function(){return l}});var n=r(7873),i=r(959),o=r(422),a=r(9474);let l=(0,i.forwardRef)((e,t)=>{var r;let{container:l=null==globalThis?void 0:null===(r=globalThis.document)||void 0===r?void 0:r.body,...s}=e;return l?o.createPortal((0,i.createElement)(a.WV.div,(0,n.Z)({},s,{ref:t})),l):null})},4830:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(959),i=r(422),o=r(525),a=r(5428);let l=e=>{let{present:t,children:r}=e,l=function(e){var t,r;let[o,l]=(0,n.useState)(),u=(0,n.useRef)({}),c=(0,n.useRef)(e),f=(0,n.useRef)("none"),[d,p]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},(0,n.useReducer)((e,t)=>{let n=r[e][t];return null!=n?n:e},t));return(0,n.useEffect)(()=>{let e=s(u.current);f.current="mounted"===d?e:"none"},[d]),(0,a.b)(()=>{let t=u.current,r=c.current;if(r!==e){let n=f.current,i=s(t);e?p("MOUNT"):"none"===i||(null==t?void 0:t.display)==="none"?p("UNMOUNT"):r&&n!==i?p("ANIMATION_OUT"):p("UNMOUNT"),c.current=e}},[e,p]),(0,a.b)(()=>{if(o){let e=e=>{let t=s(u.current).includes(e.animationName);e.target===o&&t&&(0,i.flushSync)(()=>p("ANIMATION_END"))},t=e=>{e.target===o&&(f.current=s(u.current))};return o.addEventListener("animationstart",t),o.addEventListener("animationcancel",e),o.addEventListener("animationend",e),()=>{o.removeEventListener("animationstart",t),o.removeEventListener("animationcancel",e),o.removeEventListener("animationend",e)}}p("ANIMATION_END")},[o,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:(0,n.useCallback)(e=>{e&&(u.current=getComputedStyle(e)),l(e)},[])}}(t),u="function"==typeof r?r({present:l.isPresent}):n.Children.only(r),c=(0,o.e)(l.ref,u.ref);return"function"==typeof r||l.isPresent?(0,n.cloneElement)(u,{ref:c}):null};function s(e){return(null==e?void 0:e.animationName)||"none"}l.displayName="Presence"},9474:function(e,t,r){"use strict";r.d(t,{WV:function(){return l},jH:function(){return s}});var n=r(7873),i=r(959),o=r(422),a=r(4092);let l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=(0,i.forwardRef)((e,r)=>{let{asChild:o,...l}=e,s=o?a.g7:t;return(0,i.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,i.createElement)(s,(0,n.Z)({},l,{ref:r}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function s(e,t){e&&(0,o.flushSync)(()=>e.dispatchEvent(t))}},6427:function(e,t,r){"use strict";r.d(t,{ck:function(){return L},fC:function(){return D}});var n=r(7873),i=r(959),o=r(425),a=r(525),l=r(8053),s=r(9474),u=r(5153),c=r(6915),f=r(446),d=r(8488),p=r(319),h=r(4830);let v="Radio",[m,g]=(0,l.b)(v),[y,b]=m(v),w=(0,i.forwardRef)((e,t)=>{let{__scopeRadio:r,name:l,checked:u=!1,required:c,disabled:f,value:d="on",onCheck:p,...h}=e,[v,m]=(0,i.useState)(null),g=(0,a.e)(t,e=>m(e)),b=(0,i.useRef)(!1),w=!v||!!v.closest("form");return(0,i.createElement)(y,{scope:r,checked:u,disabled:f},(0,i.createElement)(s.WV.button,(0,n.Z)({type:"button",role:"radio","aria-checked":u,"data-state":x(u),"data-disabled":f?"":void 0,disabled:f,value:d},h,{ref:g,onClick:(0,o.M)(e.onClick,e=>{u||null==p||p(),w&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})),w&&(0,i.createElement)(E,{control:v,bubbles:!b.current,name:l,value:d,checked:u,required:c,disabled:f,style:{transform:"translateX(-100%)"}}))}),E=((e,t)=>{let{__scopeRadio:r,forceMount:o,...a}=e,l=b("RadioIndicator",r);return(0,i.createElement)(h.z,{present:o||l.checked},(0,i.createElement)(s.WV.span,(0,n.Z)({"data-state":x(l.checked),"data-disabled":l.disabled?"":void 0},a,{ref:t})))},e=>{let{control:t,checked:r,bubbles:o=!0,...a}=e,l=(0,i.useRef)(null),s=(0,p.D)(r),u=(0,d.t)(t);return(0,i.useEffect)(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(s!==r&&t){let n=new Event("click",{bubbles:o});t.call(e,r),e.dispatchEvent(n)}},[s,r,o]),(0,i.createElement)("input",(0,n.Z)({type:"radio","aria-hidden":!0,defaultChecked:r},a,{tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))});function x(e){return e?"checked":"unchecked"}let C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A="RadioGroup",[S,R]=(0,l.b)(A,[u.Pc,g]),O=(0,u.Pc)(),T=g(),[P,k]=S(A),I=(0,i.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,name:o,defaultValue:a,value:l,required:d=!1,disabled:p=!1,orientation:h,dir:v,loop:m=!0,onValueChange:g,...y}=e,b=O(r),w=(0,f.gm)(v),[E,x]=(0,c.T)({prop:l,defaultProp:a,onChange:g});return(0,i.createElement)(P,{scope:r,name:o,required:d,disabled:p,value:E,onValueChange:x},(0,i.createElement)(u.fC,(0,n.Z)({asChild:!0},b,{orientation:h,dir:w,loop:m}),(0,i.createElement)(s.WV.div,(0,n.Z)({role:"radiogroup","aria-required":d,"aria-orientation":h,"data-disabled":p?"":void 0,dir:w},y,{ref:t}))))}),M=(0,i.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,disabled:l,...s}=e,c=k("RadioGroupItem",r),f=c.disabled||l,d=O(r),p=T(r),h=(0,i.useRef)(null),v=(0,a.e)(t,h),m=c.value===s.value,g=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{let e=e=>{C.includes(e.key)&&(g.current=!0)},t=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,i.createElement)(u.ck,(0,n.Z)({asChild:!0},d,{focusable:!f,active:m}),(0,i.createElement)(w,(0,n.Z)({disabled:f,required:c.required,checked:m},p,s,{name:c.name,ref:v,onCheck:()=>c.onValueChange(s.value),onKeyDown:(0,o.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,o.M)(s.onFocus,()=>{var e;g.current&&(null===(e=h.current)||void 0===e||e.click())})})))}),D=I,L=M},5153:function(e,t,r){"use strict";r.d(t,{Pc:function(){return E},ck:function(){return k},fC:function(){return P}});var n=r(7873),i=r(959),o=r(425),a=r(6169),l=r(525),s=r(8053),u=r(5400),c=r(9474),f=r(1669),d=r(6915),p=r(446);let h="rovingFocusGroup.onEntryFocus",v={bubbles:!1,cancelable:!0},m="RovingFocusGroup",[g,y,b]=(0,a.B)(m),[w,E]=(0,s.b)(m,[b]),[x,C]=w(m),A=(0,i.forwardRef)((e,t)=>(0,i.createElement)(g.Provider,{scope:e.__scopeRovingFocusGroup},(0,i.createElement)(g.Slot,{scope:e.__scopeRovingFocusGroup},(0,i.createElement)(S,(0,n.Z)({},e,{ref:t}))))),S=(0,i.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:u,currentTabStopId:m,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:b,onEntryFocus:w,...E}=e,C=(0,i.useRef)(null),A=(0,l.e)(t,C),S=(0,p.gm)(u),[R=null,O]=(0,d.T)({prop:m,defaultProp:g,onChange:b}),[P,k]=(0,i.useState)(!1),I=(0,f.W)(w),M=y(r),D=(0,i.useRef)(!1),[L,j]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=C.current;if(e)return e.addEventListener(h,I),()=>e.removeEventListener(h,I)},[I]),(0,i.createElement)(x,{scope:r,orientation:a,dir:S,loop:s,currentTabStopId:R,onItemFocus:(0,i.useCallback)(e=>O(e),[O]),onItemShiftTab:(0,i.useCallback)(()=>k(!0),[]),onFocusableItemAdd:(0,i.useCallback)(()=>j(e=>e+1),[]),onFocusableItemRemove:(0,i.useCallback)(()=>j(e=>e-1),[])},(0,i.createElement)(c.WV.div,(0,n.Z)({tabIndex:P||0===L?-1:0,"data-orientation":a},E,{ref:A,style:{outline:"none",...e.style},onMouseDown:(0,o.M)(e.onMouseDown,()=>{D.current=!0}),onFocus:(0,o.M)(e.onFocus,e=>{let t=!D.current;if(e.target===e.currentTarget&&t&&!P){let t=new CustomEvent(h,v);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=M().filter(e=>e.focusable);T([e.find(e=>e.active),e.find(e=>e.id===R),...e].filter(Boolean).map(e=>e.ref.current))}}D.current=!1}),onBlur:(0,o.M)(e.onBlur,()=>k(!1))})))}),R=(0,i.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:a=!0,active:l=!1,tabStopId:s,...f}=e,d=(0,u.M)(),p=s||d,h=C("RovingFocusGroupItem",r),v=h.currentTabStopId===p,m=y(r),{onFocusableItemAdd:b,onFocusableItemRemove:w}=h;return(0,i.useEffect)(()=>{if(a)return b(),()=>w()},[a,b,w]),(0,i.createElement)(g.ItemSlot,{scope:r,id:p,focusable:a,active:l},(0,i.createElement)(c.WV.span,(0,n.Z)({tabIndex:v?0:-1,"data-orientation":h.orientation},f,{ref:t,onMouseDown:(0,o.M)(e.onMouseDown,e=>{a?h.onItemFocus(p):e.preventDefault()}),onFocus:(0,o.M)(e.onFocus,()=>h.onItemFocus(p)),onKeyDown:(0,o.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let i=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return O[i]}(e,h.orientation,h.dir);if(void 0!==t){e.preventDefault();let i=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)i.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&i.reverse();let o=i.indexOf(e.currentTarget);i=h.loop?(r=i,n=o+1,r.map((e,t)=>r[(n+t)%r.length])):i.slice(o+1)}setTimeout(()=>T(i))}})})))}),O={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}let P=A,k=R},2016:function(e,t,r){"use strict";r.d(t,{VY:function(){return eC},ck:function(){return eS},__:function(){return eA},fC:function(){return eE},DI:function(){return en},GV:function(){return B},o6:function(){return ef},S_:function(){return ec},ue:function(){return U},Jk:function(){return ev},Pn:function(){return ep},ki:function(){return V},Q_:function(){return ee},xz:function(){return ex}});var n=r(7873),i=r(959),o=r(422);function a(e,[t,r]){return Math.min(r,Math.max(t,e))}var l=r(425),s=r(6169),u=r(525),c=r(8053),f=r(446),d=r(7978),p=r(2623),h=r(4480),v=r(5400),m=r(2877),g=r(6623),y=r(9474),b=r(4092),w=r(1669),E=r(6915),x=r(5428),C=r(319);let A=(0,i.forwardRef)((e,t)=>(0,i.createElement)(y.WV.span,(0,n.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var S=r(9343),R=r(9902);let O=[" ","Enter","ArrowUp","ArrowDown"],T=[" ","Enter"],P="Select",[k,I,M]=(0,s.B)(P),[D,L]=(0,c.b)(P,[M,m.D7]),j=(0,m.D7)(),[_,F]=D(P),[W,N]=D(P),$=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,disabled:o=!1,...a}=e,s=j(r),c=F("SelectTrigger",r),f=c.disabled||o,d=(0,u.e)(t,c.onTriggerChange),p=I(r),[h,v,g]=eb(e=>{let t=p().filter(e=>!e.disabled),r=t.find(e=>e.value===c.value),n=ew(t,e,r);void 0!==n&&c.onValueChange(n.value)}),b=()=>{f||(c.onOpenChange(!0),g())};return(0,i.createElement)(m.ee,(0,n.Z)({asChild:!0},s),(0,i.createElement)(y.WV.button,(0,n.Z)({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":eg(c.value)?"":void 0},a,{ref:d,onClick:(0,l.M)(a.onClick,e=>{e.currentTarget.focus()}),onPointerDown:(0,l.M)(a.onPointerDown,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(b(),c.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())}),onKeyDown:(0,l.M)(a.onKeyDown,e=>{let t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||v(e.key),(!t||" "!==e.key)&&O.includes(e.key)&&(b(),e.preventDefault())})})))}),V=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,className:o,style:a,children:l,placeholder:s="",...c}=e,f=F("SelectValue",r),{onValueNodeHasChildrenChange:d}=f,p=void 0!==l,h=(0,u.e)(t,f.onValueNodeChange);return(0,x.b)(()=>{d(p)},[d,p]),(0,i.createElement)(y.WV.span,(0,n.Z)({},c,{ref:h,style:{pointerEvents:"none"}}),eg(f.value)?(0,i.createElement)(i.Fragment,null,s):l)}),B=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,children:o,...a}=e;return(0,i.createElement)(y.WV.span,(0,n.Z)({"aria-hidden":!0},a,{ref:t}),o||"▼")}),U=e=>(0,i.createElement)(g.h,(0,n.Z)({asChild:!0},e)),q="SelectContent",H=(0,i.forwardRef)((e,t)=>{let r=F(q,e.__scopeSelect),[a,l]=(0,i.useState)();return((0,x.b)(()=>{l(new DocumentFragment)},[]),r.open)?(0,i.createElement)(K,(0,n.Z)({},e,{ref:t})):a?(0,o.createPortal)((0,i.createElement)(z,{scope:e.__scopeSelect},(0,i.createElement)(k.Slot,{scope:e.__scopeSelect},(0,i.createElement)("div",null,e.children))),a):null}),[z,Z]=D(q),K=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:c,side:f,sideOffset:v,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:E,sticky:x,hideWhenDetached:C,avoidCollisions:A,...O}=e,T=F(q,r),[P,k]=(0,i.useState)(null),[M,D]=(0,i.useState)(null),L=(0,u.e)(t,e=>k(e)),[j,_]=(0,i.useState)(null),[W,N]=(0,i.useState)(null),$=I(r),[V,B]=(0,i.useState)(!1),U=(0,i.useRef)(!1);(0,i.useEffect)(()=>{if(P)return(0,S.Ry)(P)},[P]),(0,p.EW)();let H=(0,i.useCallback)(e=>{let[t,...r]=$().map(e=>e.ref.current),[n]=r.slice(-1),i=document.activeElement;for(let r of e)if(r===i||(null==r||r.scrollIntoView({block:"nearest"}),r===t&&M&&(M.scrollTop=0),r===n&&M&&(M.scrollTop=M.scrollHeight),null==r||r.focus(),document.activeElement!==i))return},[$,M]),Z=(0,i.useCallback)(()=>H([j,P]),[H,j,P]);(0,i.useEffect)(()=>{V&&Z()},[V,Z]);let{onOpenChange:K,triggerPointerDownPosRef:Y}=T;(0,i.useEffect)(()=>{if(P){let e={x:0,y:0},t=t=>{var r,n,i,o;e={x:Math.abs(Math.round(t.pageX)-(null!==(r=null===(n=Y.current)||void 0===n?void 0:n.x)&&void 0!==r?r:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null===(o=Y.current)||void 0===o?void 0:o.y)&&void 0!==i?i:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():P.contains(r.target)||K(!1),document.removeEventListener("pointermove",t),Y.current=null};return null!==Y.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[P,K,Y]),(0,i.useEffect)(()=>{let e=()=>K(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[K]);let[G,J]=eb(e=>{let t=$().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=ew(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),ee=(0,i.useCallback)((e,t,r)=>{let n=!U.current&&!r;(void 0!==T.value&&T.value===t||n)&&(_(e),n&&(U.current=!0))},[T.value]),et=(0,i.useCallback)(()=>null==P?void 0:P.focus(),[P]),er=(0,i.useCallback)((e,t,r)=>{let n=!U.current&&!r;(void 0!==T.value&&T.value===t||n)&&N(e)},[T.value]),en="popper"===o?Q:X;return(0,i.createElement)(z,{scope:r,content:P,viewport:M,onViewportChange:D,itemRefCallback:ee,selectedItem:j,onItemLeave:et,itemTextRefCallback:er,focusSelectedItem:Z,selectedItemText:W,position:o,isPositioned:V,searchRef:G},(0,i.createElement)(R.Z,{as:b.g7,allowPinchZoom:!0},(0,i.createElement)(h.M,{asChild:!0,trapped:T.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,l.M)(a,e=>{var t;null===(t=T.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()})},(0,i.createElement)(d.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>T.onOpenChange(!1)},(0,i.createElement)(en,(0,n.Z)({role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:e=>e.preventDefault()},O,en===Q?{side:f,sideOffset:v,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:E,sticky:x,hideWhenDetached:C,avoidCollisions:A}:{},{onPlaced:()=>B(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:(0,l.M)(O.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||J(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=$().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>H(t)),e.preventDefault()}})}))))))}),X=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,onPlaced:o,...l}=e,s=F(q,r),c=Z(q,r),[f,d]=(0,i.useState)(null),[p,h]=(0,i.useState)(null),v=(0,u.e)(t,e=>h(e)),m=I(r),g=(0,i.useRef)(!1),b=(0,i.useRef)(!0),{viewport:w,selectedItem:E,selectedItemText:C,focusSelectedItem:A}=c,S=(0,i.useCallback)(()=>{if(s.trigger&&s.valueNode&&f&&p&&w&&E&&C){let e=s.trigger.getBoundingClientRect(),t=p.getBoundingClientRect(),r=s.valueNode.getBoundingClientRect(),n=C.getBoundingClientRect();if("rtl"!==s.dir){let i=n.left-t.left,o=r.left-i,l=e.left-o,s=e.width+l,u=Math.max(s,t.width),c=a(o,[10,window.innerWidth-10-u]);f.style.minWidth=s+"px",f.style.left=c+"px"}else{let i=t.right-n.right,o=window.innerWidth-r.right-i,l=window.innerWidth-e.right-o,s=e.width+l,u=Math.max(s,t.width),c=a(o,[10,window.innerWidth-10-u]);f.style.minWidth=s+"px",f.style.right=c+"px"}let i=m(),l=window.innerHeight-20,u=w.scrollHeight,c=window.getComputedStyle(p),d=parseInt(c.borderTopWidth,10),h=parseInt(c.paddingTop,10),v=parseInt(c.borderBottomWidth,10),y=d+h+u+parseInt(c.paddingBottom,10)+v,b=Math.min(5*E.offsetHeight,y),x=window.getComputedStyle(w),A=parseInt(x.paddingTop,10),S=parseInt(x.paddingBottom,10),R=e.top+e.height/2-10,O=E.offsetHeight/2,T=d+h+(E.offsetTop+O);if(T<=R){let e=E===i[i.length-1].ref.current;f.style.bottom="0px";let t=p.clientHeight-w.offsetTop-w.offsetHeight;f.style.height=T+Math.max(l-R,O+(e?S:0)+t+v)+"px"}else{let e=E===i[0].ref.current;f.style.top="0px";let t=Math.max(R,d+w.offsetTop+(e?A:0)+O);f.style.height=t+(y-T)+"px",w.scrollTop=T-R+w.offsetTop}f.style.margin="10px 0",f.style.minHeight=b+"px",f.style.maxHeight=l+"px",null==o||o(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,f,p,w,E,C,s.dir,o]);(0,x.b)(()=>S(),[S]);let[R,O]=(0,i.useState)();(0,x.b)(()=>{p&&O(window.getComputedStyle(p).zIndex)},[p]);let T=(0,i.useCallback)(e=>{e&&!0===b.current&&(S(),null==A||A(),b.current=!1)},[S,A]);return(0,i.createElement)(Y,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:g,onScrollButtonChange:T},(0,i.createElement)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R}},(0,i.createElement)(y.WV.div,(0,n.Z)({},l,{ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}}))))}),Q=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,align:o="start",collisionPadding:a=10,...l}=e,s=j(r);return(0,i.createElement)(m.VY,(0,n.Z)({},s,l,{ref:t,align:o,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Y,G]=D(q,{}),J="SelectViewport",ee=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,...o}=e,a=Z(J,r),s=G(J,r),c=(0,u.e)(t,a.onViewportChange),f=(0,i.useRef)(0);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),(0,i.createElement)(k.Slot,{scope:r},(0,i.createElement)(y.WV.div,(0,n.Z)({"data-radix-select-viewport":"",role:"presentation"},o,{ref:c,style:{position:"relative",flex:1,overflow:"auto",...o.style},onScroll:(0,l.M)(o.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=s;if(null!=n&&n.current&&r){let e=Math.abs(f.current-t.scrollTop);if(e>0){let n=window.innerHeight-20,i=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(i<n){let o=i+e,a=Math.min(n,o),l=o-a;r.style.height=a+"px","0px"===r.style.bottom&&(t.scrollTop=l>0?l:0,r.style.justifyContent="flex-end")}}}f.current=t.scrollTop})}))))}),[et,er]=D("SelectGroup"),en=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,...o}=e,a=(0,v.M)();return(0,i.createElement)(et,{scope:r,id:a},(0,i.createElement)(y.WV.div,(0,n.Z)({role:"group","aria-labelledby":a},o,{ref:t})))}),ei=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,...o}=e,a=er("SelectLabel",r);return(0,i.createElement)(y.WV.div,(0,n.Z)({id:a.id},o,{ref:t}))}),eo="SelectItem",[ea,el]=D(eo),es=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,value:o,disabled:a=!1,textValue:s,...c}=e,f=F(eo,r),d=Z(eo,r),p=f.value===o,[h,m]=(0,i.useState)(null!=s?s:""),[g,b]=(0,i.useState)(!1),w=(0,u.e)(t,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,o,a)}),E=(0,v.M)(),x=()=>{a||(f.onValueChange(o),f.onOpenChange(!1))};if(""===o)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,i.createElement)(ea,{scope:r,value:o,disabled:a,textId:E,isSelected:p,onItemTextChange:(0,i.useCallback)(e=>{m(t=>{var r;return t||(null!==(r=null==e?void 0:e.textContent)&&void 0!==r?r:"").trim()})},[])},(0,i.createElement)(k.ItemSlot,{scope:r,value:o,disabled:a,textValue:h},(0,i.createElement)(y.WV.div,(0,n.Z)({role:"option","aria-labelledby":E,"data-highlighted":g?"":void 0,"aria-selected":p&&g,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},c,{ref:w,onFocus:(0,l.M)(c.onFocus,()=>b(!0)),onBlur:(0,l.M)(c.onBlur,()=>b(!1)),onPointerUp:(0,l.M)(c.onPointerUp,x),onPointerMove:(0,l.M)(c.onPointerMove,e=>{if(a){var t;null===(t=d.onItemLeave)||void 0===t||t.call(d)}else e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,l.M)(c.onPointerLeave,e=>{if(e.currentTarget===document.activeElement){var t;null===(t=d.onItemLeave)||void 0===t||t.call(d)}}),onKeyDown:(0,l.M)(c.onKeyDown,e=>{var t;(null===(t=d.searchRef)||void 0===t?void 0:t.current)!==""&&" "===e.key||(T.includes(e.key)&&x()," "===e.key&&e.preventDefault())})}))))}),eu="SelectItemText",ec=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,className:a,style:l,...s}=e,c=F(eu,r),f=Z(eu,r),d=el(eu,r),p=N(eu,r),[h,v]=(0,i.useState)(null),m=(0,u.e)(t,e=>v(e),d.onItemTextChange,e=>{var t;return null===(t=f.itemTextRefCallback)||void 0===t?void 0:t.call(f,e,d.value,d.disabled)}),g=null==h?void 0:h.textContent,b=(0,i.useMemo)(()=>(0,i.createElement)("option",{key:d.value,value:d.value,disabled:d.disabled},g),[d.disabled,d.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:E}=p;return(0,x.b)(()=>(w(b),()=>E(b)),[w,E,b]),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(y.WV.span,(0,n.Z)({id:d.textId},s,{ref:m})),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?(0,o.createPortal)(s.children,c.valueNode):null)}),ef=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,...o}=e;return el("SelectItemIndicator",r).isSelected?(0,i.createElement)(y.WV.span,(0,n.Z)({"aria-hidden":!0},o,{ref:t})):null}),ed="SelectScrollUpButton",ep=(0,i.forwardRef)((e,t)=>{let r=Z(ed,e.__scopeSelect),o=G(ed,e.__scopeSelect),[a,l]=(0,i.useState)(!1),s=(0,u.e)(t,o.onScrollButtonChange);return(0,x.b)(()=>{if(r.viewport&&r.isPositioned){let t=r.viewport;function e(){l(t.scrollTop>0)}return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),a?(0,i.createElement)(em,(0,n.Z)({},e,{ref:s,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null}),eh="SelectScrollDownButton",ev=(0,i.forwardRef)((e,t)=>{let r=Z(eh,e.__scopeSelect),o=G(eh,e.__scopeSelect),[a,l]=(0,i.useState)(!1),s=(0,u.e)(t,o.onScrollButtonChange);return(0,x.b)(()=>{if(r.viewport&&r.isPositioned){let t=r.viewport;function e(){let e=t.scrollHeight-t.clientHeight;l(Math.ceil(t.scrollTop)<e)}return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),a?(0,i.createElement)(em,(0,n.Z)({},e,{ref:s,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null}),em=(0,i.forwardRef)((e,t)=>{let{__scopeSelect:r,onAutoScroll:o,...a}=e,s=Z("SelectScrollButton",r),u=(0,i.useRef)(null),c=I(r),f=(0,i.useCallback)(()=>{null!==u.current&&(window.clearInterval(u.current),u.current=null)},[]);return(0,i.useEffect)(()=>()=>f(),[f]),(0,x.b)(()=>{var e;let t=c().find(e=>e.ref.current===document.activeElement);null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[c]),(0,i.createElement)(y.WV.div,(0,n.Z)({"aria-hidden":!0},a,{ref:t,style:{flexShrink:0,...a.style},onPointerDown:(0,l.M)(a.onPointerDown,()=>{null===u.current&&(u.current=window.setInterval(o,50))}),onPointerMove:(0,l.M)(a.onPointerMove,()=>{var e;null===(e=s.onItemLeave)||void 0===e||e.call(s),null===u.current&&(u.current=window.setInterval(o,50))}),onPointerLeave:(0,l.M)(a.onPointerLeave,()=>{f()})}))});function eg(e){return""===e||void 0===e}let ey=(0,i.forwardRef)((e,t)=>{let{value:r,...o}=e,a=(0,i.useRef)(null),l=(0,u.e)(t,a),s=(0,C.D)(r);return(0,i.useEffect)(()=>{let e=a.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(s!==r&&t){let n=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(n)}},[s,r]),(0,i.createElement)(A,{asChild:!0},(0,i.createElement)("select",(0,n.Z)({},o,{ref:l,defaultValue:r})))});function eb(e){let t=(0,w.W)(e),r=(0,i.useRef)(""),n=(0,i.useRef)(0),o=(0,i.useCallback)(e=>{let i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=(0,i.useCallback)(()=>{r.current="",window.clearTimeout(n.current)},[]);return(0,i.useEffect)(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function ew(e,t,r){var n;let i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=(n=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(n+r)%e.length]));1===i.length&&(o=o.filter(e=>e!==r));let a=o.find(e=>e.textValue.toLowerCase().startsWith(i.toLowerCase()));return a!==r?a:void 0}ey.displayName="BubbleSelect";let eE=e=>{let{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:l,defaultValue:s,onValueChange:u,dir:c,name:d,autoComplete:p,disabled:h,required:g}=e,y=j(t),[b,w]=(0,i.useState)(null),[x,C]=(0,i.useState)(null),[A,S]=(0,i.useState)(!1),R=(0,f.gm)(c),[O=!1,T]=(0,E.T)({prop:n,defaultProp:o,onChange:a}),[P,I]=(0,E.T)({prop:l,defaultProp:s,onChange:u}),M=(0,i.useRef)(null),D=!b||!!b.closest("form"),[L,F]=(0,i.useState)(new Set),N=Array.from(L).map(e=>e.props.value).join(";");return(0,i.createElement)(m.fC,y,(0,i.createElement)(_,{required:g,scope:t,trigger:b,onTriggerChange:w,valueNode:x,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:S,contentId:(0,v.M)(),value:P,onValueChange:I,open:O,onOpenChange:T,dir:R,triggerPointerDownPosRef:M,disabled:h},(0,i.createElement)(k.Provider,{scope:t},(0,i.createElement)(W,{scope:e.__scopeSelect,onNativeOptionAdd:(0,i.useCallback)(e=>{F(t=>new Set(t).add(e))},[]),onNativeOptionRemove:(0,i.useCallback)(e=>{F(t=>{let r=new Set(t);return r.delete(e),r})},[])},r)),D?(0,i.createElement)(ey,{key:N,"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:p,value:P,onChange:e=>I(e.target.value),disabled:h},void 0===P?(0,i.createElement)("option",{value:""}):null,Array.from(L)):null))},ex=$,eC=H,eA=ei,eS=es},4092:function(e,t,r){"use strict";r.d(t,{g7:function(){return a}});var n=r(7873),i=r(959),o=r(525);let a=(0,i.forwardRef)((e,t)=>{let{children:r,...o}=e,a=i.Children.toArray(r),s=a.find(u);if(s){let e=s.props.children,r=a.map(t=>t!==s?t:i.Children.count(e)>1?i.Children.only(null):(0,i.isValidElement)(e)?e.props.children:null);return(0,i.createElement)(l,(0,n.Z)({},o,{ref:t}),(0,i.isValidElement)(e)?(0,i.cloneElement)(e,void 0,r):null)}return(0,i.createElement)(l,(0,n.Z)({},o,{ref:t}),r)});a.displayName="Slot";let l=(0,i.forwardRef)((e,t)=>{let{children:r,...n}=e;return(0,i.isValidElement)(r)?(0,i.cloneElement)(r,{...function(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props),ref:t?(0,o.F)(t,r.ref):r.ref}):i.Children.count(r)>1?i.Children.only(null):null});l.displayName="SlotClone";let s=({children:e})=>(0,i.createElement)(i.Fragment,null,e);function u(e){return(0,i.isValidElement)(e)&&e.type===s}},2472:function(e,t,r){"use strict";r.d(t,{bU:function(){return x},fC:function(){return E}});var n=r(7873),i=r(959),o=r(425),a=r(525),l=r(8053),s=r(6915),u=r(319),c=r(8488),f=r(9474);let d="Switch",[p,h]=(0,l.b)(d),[v,m]=p(d),g=(0,i.forwardRef)((e,t)=>{let{__scopeSwitch:r,name:l,checked:u,defaultChecked:c,required:d,disabled:p,value:h="on",onCheckedChange:m,...g}=e,[y,E]=(0,i.useState)(null),x=(0,a.e)(t,e=>E(e)),C=(0,i.useRef)(!1),A=!y||!!y.closest("form"),[S=!1,R]=(0,s.T)({prop:u,defaultProp:c,onChange:m});return(0,i.createElement)(v,{scope:r,checked:S,disabled:p},(0,i.createElement)(f.WV.button,(0,n.Z)({type:"button",role:"switch","aria-checked":S,"aria-required":d,"data-state":w(S),"data-disabled":p?"":void 0,disabled:p,value:h},g,{ref:x,onClick:(0,o.M)(e.onClick,e=>{R(e=>!e),A&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})})),A&&(0,i.createElement)(b,{control:y,bubbles:!C.current,name:l,value:h,checked:S,required:d,disabled:p,style:{transform:"translateX(-100%)"}}))}),y=(0,i.forwardRef)((e,t)=>{let{__scopeSwitch:r,...o}=e,a=m("SwitchThumb",r);return(0,i.createElement)(f.WV.span,(0,n.Z)({"data-state":w(a.checked),"data-disabled":a.disabled?"":void 0},o,{ref:t}))}),b=e=>{let{control:t,checked:r,bubbles:o=!0,...a}=e,l=(0,i.useRef)(null),s=(0,u.D)(r),f=(0,c.t)(t);return(0,i.useEffect)(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(s!==r&&t){let n=new Event("click",{bubbles:o});t.call(e,r),e.dispatchEvent(n)}},[s,r,o]),(0,i.createElement)("input",(0,n.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:r},a,{tabIndex:-1,ref:l,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function w(e){return e?"checked":"unchecked"}let E=g,x=y},3367:function(e,t,r){"use strict";r.d(t,{VY:function(){return T},aV:function(){return R},fC:function(){return S},xz:function(){return O}});var n=r(7873),i=r(959),o=r(425),a=r(8053),l=r(5153),s=r(4830),u=r(9474),c=r(446),f=r(6915),d=r(5400);let p="Tabs",[h,v]=(0,a.b)(p,[l.Pc]),m=(0,l.Pc)(),[g,y]=h(p),b=(0,i.forwardRef)((e,t)=>{let{__scopeTabs:r,value:o,onValueChange:a,defaultValue:l,orientation:s="horizontal",dir:p,activationMode:h="automatic",...v}=e,m=(0,c.gm)(p),[y,b]=(0,f.T)({prop:o,onChange:a,defaultProp:l});return(0,i.createElement)(g,{scope:r,baseId:(0,d.M)(),value:y,onValueChange:b,orientation:s,dir:m,activationMode:h},(0,i.createElement)(u.WV.div,(0,n.Z)({dir:m,"data-orientation":s},v,{ref:t})))}),w=(0,i.forwardRef)((e,t)=>{let{__scopeTabs:r,loop:o=!0,...a}=e,s=y("TabsList",r),c=m(r);return(0,i.createElement)(l.fC,(0,n.Z)({asChild:!0},c,{orientation:s.orientation,dir:s.dir,loop:o}),(0,i.createElement)(u.WV.div,(0,n.Z)({role:"tablist","aria-orientation":s.orientation},a,{ref:t})))}),E=(0,i.forwardRef)((e,t)=>{let{__scopeTabs:r,value:a,disabled:s=!1,...c}=e,f=y("TabsTrigger",r),d=m(r),p=C(f.baseId,a),h=A(f.baseId,a),v=a===f.value;return(0,i.createElement)(l.ck,(0,n.Z)({asChild:!0},d,{focusable:!s,active:v}),(0,i.createElement)(u.WV.button,(0,n.Z)({type:"button",role:"tab","aria-selected":v,"aria-controls":h,"data-state":v?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:p},c,{ref:t,onMouseDown:(0,o.M)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():f.onValueChange(a)}),onKeyDown:(0,o.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&f.onValueChange(a)}),onFocus:(0,o.M)(e.onFocus,()=>{let e="manual"!==f.activationMode;v||s||!e||f.onValueChange(a)})})))}),x=(0,i.forwardRef)((e,t)=>{let{__scopeTabs:r,value:o,forceMount:a,children:l,...c}=e,f=y("TabsContent",r),d=C(f.baseId,o),p=A(f.baseId,o),h=o===f.value,v=(0,i.useRef)(h);return(0,i.useEffect)(()=>{let e=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,i.createElement)(s.z,{present:a||h},({present:r})=>(0,i.createElement)(u.WV.div,(0,n.Z)({"data-state":h?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:p,tabIndex:0},c,{ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0}}),r&&l))});function C(e,t){return`${e}-trigger-${t}`}function A(e,t){return`${e}-content-${t}`}let S=b,R=w,O=E,T=x},1669:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(959);function i(e){let t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e}),(0,n.useMemo)(()=>(...e)=>{var r;return null===(r=t.current)||void 0===r?void 0:r.call(t,...e)},[])}},6915:function(e,t,r){"use strict";r.d(t,{T:function(){return o}});var n=r(959),i=r(1669);function o({prop:e,defaultProp:t,onChange:r=()=>{}}){let[o,a]=function({defaultProp:e,onChange:t}){let r=(0,n.useState)(e),[o]=r,a=(0,n.useRef)(o),l=(0,i.W)(t);return(0,n.useEffect)(()=>{a.current!==o&&(l(o),a.current=o)},[o,a,l]),r}({defaultProp:t,onChange:r}),l=void 0!==e,s=l?e:o,u=(0,i.W)(r);return[s,(0,n.useCallback)(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&u(r)}else a(t)},[l,e,a,u])]}},5428:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(959);let i=(null==globalThis?void 0:globalThis.document)?n.useLayoutEffect:()=>{}},319:function(e,t,r){"use strict";r.d(t,{D:function(){return i}});var n=r(959);function i(e){let t=(0,n.useRef)({value:e,previous:e});return(0,n.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},8488:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(959),i=r(5428);function o(e){let[t,r]=(0,n.useState)(void 0);return(0,i.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,i=t.blockSize}else n=e.offsetWidth,i=e.offsetHeight;r({width:n,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}}}]);